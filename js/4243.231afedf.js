"use strict";(self.webpackChunkkuoni=self.webpackChunkkuoni||[]).push([[4243],{4243:function(t,i,r){var e=r(5166),s=r(4820),a=(0,e.defineAsyncComponent)((function(){return r.e(7529).then(r.bind(r,7529))}));(0,e.createApp)({components:{"price-range-slider":a},data:function(){return{ready:!1,showDestinationsFilter:!1,destinationFilters:[],showDeparturePointsFilter:!1,departurePointFilters:[],showRatingsFilter:!1,ratingFilters:[],showFacilityFilter:!1,facilityFilters:[],showHolidayTypesFilter:!1,holidayTypeFilters:[],showBoardBasesFilter:!1,boardBasisFilters:[],showPriceFilter:!1,priceFilter:{min:0,max:0,active:!1},showSortOptions:!1,sortOrder:"",sortName:"",mobileFiltersOpen:!1,mobileSortOpen:!1}},computed:{hasDestinationFilters:function(){var t=this.destinationFilters;return Array.isArray(t)&&t.length>0},hasDeparturePointFilters:function(){var t=this.departurePointFilters;return Array.isArray(t)&&t.length>0},hasRatingFilters:function(){var t=this.ratingFilters;return Array.isArray(t)&&t.length>0},hasFacilityFilters:function(){var t=this.facilityFilters;return Array.isArray(t)&&t.length>0},hasHolidayTypeFilters:function(){var t=this.holidayTypeFilters;return Array.isArray(t)&&t.length>0},hasBoardBasisFilters:function(){var t=this.boardBasisFilters;return Array.isArray(t)&&t.length>0},hasPriceFilter:function(){return this.priceFilter.active},selectedFilters:function(){var t=[];return this.hasDestinationFilters&&this.destinationFilters.forEach((function(i){t.push({id:"dest:"+i,text:i})})),this.hasDeparturePointFilters&&this.departurePointFilters.forEach((function(i){t.push({id:"dept:"+i,text:i})})),this.hasRatingFilters&&this.ratingFilters.forEach((function(i){t.push({id:"rate:"+i,text:i})})),this.hasFacilityFilters&&this.facilityFilters.forEach((function(i){t.push({id:"faci:"+i,text:i})})),this.hasHolidayTypeFilters&&this.holidayTypeFilters.forEach((function(i){t.push({id:"holi:"+i,text:i})})),this.hasBoardBasisFilters&&this.boardBasisFilters.forEach((function(i){t.push({id:"bord:"+i,text:i})})),this.hasPriceFilter&&t.push({id:"price",text:"Price: "+(0,s.dN)(this.priceFilter.min)+" - "+(0,s.dN)(this.priceFilter.max)}),t},hasSelectedFilters:function(){var t=this.selectedFilters;return Array.isArray(t)&&t.length>0}},mounted:function(){this.setSort("kr"),this.ready=!0},methods:{getCardElement:function(t){if(t&&"function"==typeof t.getAttribute)return t;if(!t||"string"!=typeof t||null===t||""===t.trim())return null;var i=this.$refs[t];return i&&"function"==typeof i.getAttribute?i:null},getCardData:function(t){if(!(t=this.getCardElement(t)))return null;var i,r=t.getAttribute("data-options");if(!r||"string"!=typeof r||null===r||""===r.trim()||!r.trim().startsWith("{"))return{};try{i=JSON.parse(r.trim())}catch(t){i={}}return i.name&&"string"==typeof i.name&&null!==i.name&&""!==i.name.trim()?i.name=i.name.trim():i.name="",i.destination&&"string"==typeof i.destination&&null!==i.destination&&""!==i.destination.trim()?i.destination=i.destination.trim():i.destination="",Array.isArray(i.departures)||(i.departures=[]),Array.isArray(i.holidayTypes)||(i.holidayTypes=[]),i.boardBasis&&"string"==typeof i.boardBasis&&null!==i.boardBasis&&""!==i.boardBasis.trim()?i.boardBasis=i.boardBasis.trim():i.boardBasis="",(!i.price||"number"!=typeof i.price||null===i.price||i.price<0)&&(i.price=-1),(!i.priority||"number"!=typeof i.priority||null===i.priority||i.priority<0||i.priority>=Number.MAX_VALUE)&&(i.priority=-1),(!i.rating||"number"!=typeof i.rating||null===i.rating||i.rating<0||i.rating>=Number.MAX_VALUE)&&(i.rating=-1),Array.isArray(i.facilities)||(i.facilities=[]),i},getCardsElement:function(){var t=this.$refs.cards;return t&&"object"==typeof t.childNodes?t:null},getCards:function(){var t=this,i=this.getCardsElement();if(!i)return[];var r=function(t,i,r){if(r||2===arguments.length)for(var e,s=0,a=i.length;s<a;s++)!e&&s in i||(e||(e=Array.prototype.slice.call(i,0,s)),e[s]=i[s]);return t.concat(e||Array.prototype.slice.call(i))}([],i.childNodes,!0);if(!Array.isArray(r))return[];var e=[];return r.forEach((function(i){var r=t.getCardData(i);r&&e.push({element:i,data:r})})),e},closeAll:function(){this.showDestinationsFilter=!1,this.showDeparturePointsFilter=!1,this.showRatingsFilter=!1,this.showFacilityFilter=!1,this.showHolidayTypesFilter=!1,this.showBoardBasesFilter=!1,this.showPriceFilter=!1,this.showSortOptions=!1},toggleDestinationsFilter:function(t){"boolean"!=typeof t&&(t=!this.showDestinationsFilter),this.closeAll(),this.showDestinationsFilter=t},toggleDeparturePointsFilter:function(t){"boolean"!=typeof t&&(t=!this.showDeparturePointsFilter),this.closeAll(),this.showDeparturePointsFilter=t},toggleRatingsFilter:function(t){"boolean"!=typeof t&&(t=!this.showRatingsFilter),this.closeAll(),this.showRatingsFilter=t},toggleFacilityFilter:function(t){"boolean"!=typeof t&&(t=!this.showFacilityFilter),this.closeAll(),this.showFacilityFilter=t},toggleHolidayTypesFilter:function(t){"boolean"!=typeof t&&(t=!this.showHolidayTypesFilter),this.closeAll(),this.showHolidayTypesFilter=t},toggleBoardBasesFilter:function(t){"boolean"!=typeof t&&(t=!this.showBoardBasesFilter),this.closeAll(),this.showBoardBasesFilter=t},togglePriceFilter:function(t){"boolean"!=typeof t&&(t=!this.showPriceFilter),this.closeAll(),this.showPriceFilter=t},toggleSortOptions:function(t){"boolean"!=typeof t&&(t=!this.showSortOptions),this.closeAll(),this.showSortOptions=t},clearFilter:function(t){if(this.closeAll(),t&&"string"==typeof t&&null!==t&&""!==t.trim()){if("price"===t&&(this.priceFilter.active=!1),t.startsWith("dest:")&&this.hasDestinationFilters){var i=t.substring(5);this.destinationFilters=this.destinationFilters.filter((function(t){return t!==i}))}if(t.startsWith("dept:")&&this.hasDeparturePointFilters){var r=t.substring(5);this.departurePointFilters=this.departurePointFilters.filter((function(t){return t!==r}))}if(t.startsWith("rate:")&&this.hasRatingFilters){var e=t.substring(5);this.ratingFilters=this.ratingFilters.filter((function(t){return t!==e}))}if(t.startsWith("faci:")&&this.hasFacilityFilters){var s=t.substring(5);this.facilityFilters=this.facilityFilters.filter((function(t){return t!==s}))}if(t.startsWith("holi:")&&this.hasHolidayTypeFilters){var a=t.substring(5);this.holidayTypeFilters=this.holidayTypeFilters.filter((function(t){return t!==a}))}if(t.startsWith("bord:")&&this.hasBoardBasisFilters){var n=t.substring(5);this.boardBasisFilters=this.boardBasisFilters.filter((function(t){return t!==n}))}}},clearFilters:function(){this.closeAll(),this.destinationFilters=[],this.departurePointFilters=[],this.ratingFilters=[],this.facilityFilters=[],this.holidayTypeFilters=[],this.boardBasisFilters=[],this.priceFilter.active=!1},showCard:function(t){var i=this.getCardData(t);if(!i)return!0;var r=this.destinationFilters.length<=0||this.destinationFilters.includes(i.destination),e=this.departurePointFilters.length<=0||this.departurePointFilters.filter((function(t){return i.departures.includes(t)})).length>0,s=this.ratingFilters.length<=0||this.ratingFilters.includes(i.rating+" Stars"),a=this.facilityFilters.length<=0||this.facilityFilters.filter((function(t){return i.facilities.includes(t)})).length>0,n=this.holidayTypeFilters.length<=0||this.holidayTypeFilters.filter((function(t){return i.holidayTypes.includes(t)})).length>0,o=this.boardBasisFilters.length<=0||this.boardBasisFilters.includes(i.boardBasis),l=!this.priceFilter.active||i.price>=this.priceFilter.min&&i.price<=this.priceFilter.max||-1==i.price||null==i.price;return r&&e&&n&&o&&l&&s&&a},setSort:function(t){var i=this;t&&"string"==typeof t&&null!==t&&""!==t.trim()?this.sortOrder=t:this.sortOrder="",this.setSortName(),this.sortCards(),(0,e.nextTick)((function(){i.showSortOptions=!1}))},setSortName:function(){"kr"===this.sortOrder?this.sortName="Kuoni recommended":"n-az"===this.sortOrder?this.sortName="Name <span>(A-Z)</span>":"r-hl"===this.sortOrder?this.sortName="Rating <span>(High to Low)</span>":"r-lh"===this.sortOrder?this.sortName="Rating <span>(Low to High)</span>":"p-hl"===this.sortOrder?this.sortName="Price <span>(High to Low)</span>":"p-lh"===this.sortOrder?this.sortName="Price <span>(Low to High)</span>":this.sortName=""},isSort:function(t){return this.sortOrder===t},sortCards:function(){var t=this.getCards();"kr"===this.sortOrder?t.sort((function(t,i){return t.data.priority<0?i.data.priority<0?0:1:i.data.priority<0?-1:t.data.priority>i.data.priority?1:i.data.priority>t.data.priority?-1:0})):"n-az"===this.sortOrder?t.sort((function(t,i){return t.data.name>i.data.name?1:i.data.name>t.data.name?-1:0})):"r-hl"===this.sortOrder?t.sort((function(t,i){return t.data.rating<0?i.data.rating<0?0:1:i.data.rating<0||t.data.rating>i.data.rating?-1:i.data.rating>t.data.rating?1:0})):"r-lh"===this.sortOrder?t.sort((function(t,i){return t.data.rating<0?i.data.rating<0?0:1:i.data.rating<0?-1:t.data.rating>i.data.rating?1:i.data.rating>t.data.rating?-1:0})):"p-hl"===this.sortOrder?t.sort((function(t,i){return t.data.price<0?i.data.price<0?0:1:i.data.price<0||t.data.price>i.data.price?-1:i.data.price>t.data.price?1:0})):"p-lh"===this.sortOrder&&t.sort((function(t,i){return t.data.price<0?i.data.price<0?0:1:i.data.price<0?-1:t.data.price>i.data.price?1:i.data.price>t.data.price?-1:0}));for(var i=this.getCardsElement();i.firstChild;)i.removeChild(i.lastChild);t.forEach((function(t){i.appendChild(t.element)}))}}}).mount(".accom-list-server-rendered-cards")}}]);