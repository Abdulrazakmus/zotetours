(self.webpackChunkkuoni=self.webpackChunkkuoni||[]).push([[7239],{7791:function(){window.addEventListener("message",(function(e){if(function(e){return e.data&&e.data.category&&e.data.category&&"callback-widget"===e.data.category}(e)){var t=e.data.category,n=e.data.event;e.data.data,"callback-widget"===t&&"widget:ready"===n&&(window.Responseiq.injectCssFile({url:"/css/response-iq-inject.css"}),window.Responseiq.CallbackWidget.toggleWidgetOpenState())}}))},4820:function(e,t,n){"use strict";n.d(t,{LK:function(){return i},Zy:function(){return r},Rq:function(){return s},dN:function(){return a}});var o=n(7484);function i(e,t,n=!1){var o=new XMLHttpRequest;o.withCredentials=n,o.open("GET",e,!0),o.responseType="json",o.onload=()=>{var e=o.status,n=o.response;"string"==typeof o.response&&(n=JSON.parse(o.response)),t(200===e?null:e,n)},o.send()}function r(e,t,n,o=!1){var i=new XMLHttpRequest;i.withCredentials=o,i.open("POST",e,!0),i.responseType="json",i.onload=()=>{var e=i.status,t=i.response;"string"==typeof i.response&&(t=JSON.parse(i.response)),n(200===e?null:e,t)},i.send(t)}function s(e){return function(e){return e&&"object"==typeof e&&"function"==typeof e.getFullYear}(e)?o(e).format("D MMM YYYY"):e}function a(e,t,n,o){if("boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!0),!e||isNaN(e)||e<=0)return o;let i=e;if(t&&(i=Math.ceil(i),isNaN(i)))return o;let r=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(i);return"Â£NaN"===r?o:(n&&r.endsWith(".00")&&(r=r.substring(0,r.length-3)),r)}},7379:function(e,t,n){"use strict";var o;n.d(t,{X:function(){return o}}),function(e){e[e.StoreList=1]="StoreList",e[e.ExpertSelect=2]="ExpertSelect",e[e.DateSelect=3]="DateSelect",e[e.TimeSelect=4]="TimeSelect",e[e.TypeSelect=5]="TypeSelect",e[e.Details=6]="Details",e[e.Confirm=7]="Confirm",e[e.ThankYou=8]="ThankYou"}(o||(o={}))},806:function(e,t,n){"use strict";var o=n(9257),i=n(5166),r=n(232),s=(0,i.defineComponent)({name:"App",setup:function(){return{Suspense:i.Suspense}}}),a=(0,n(3744).Z)(s,[["render",function(e,t,n,o,r,s){return(0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(e.Suspense))}]]),l=n(7484),c=n.n(l),u=n(4503),d=n(7379),p=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:85},{visibility:"on"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{weight:3.5}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{lightness:25}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:70},{visibility:"on"}]},{featureType:"administrative.province",elementType:"labels",stylers:[{lightness:50}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.attraction",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d6e3e6"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],h=n(8321),m=n(5333),f=n(3428),g=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},v=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},y={class:"sidebar__body"},w={key:0},k={class:"sidebar__header"},S=["href"],b={key:1,class:"pick-a-store"},E={class:"sidebar__header"},N={class:"store-search__input"},V=["placeholder"],C={key:0,class:"auto-complete-options"},D=["onClick"],T={style:{color:"gray"}},x=(0,i.createElementVNode)("img",{src:"/images/icons/cursor.svg",alt:"cursor"},null,-1),M={class:"filters"},A={class:"filter-option kuoni-stores"},L=(0,i.createElementVNode)("div",{class:"checkbox"},null,-1),P=(0,i.createElementVNode)("label",{for:"storesCheckbox",id:"storesCheckbox-label"},[(0,i.createTextVNode)(" Kuoni Stores "),(0,i.createElementVNode)("div",{class:"tooltip"},[(0,i.createElementVNode)("img",{src:"/images/icons/info-icon.svg"}),(0,i.createElementVNode)("span",{class:"tooltiptext"},"Plan your next holiday inside one of our beautiful stores while relaxing with a complimentary drink and chatting to our Personal Travel Experts.")])],-1),B={class:"filter-option partner-stores"},R=(0,i.createElementVNode)("div",{class:"checkbox"},null,-1),O=(0,i.createElementVNode)("label",{for:"partnersCheckbox",id:"partnersCheckbox-label"},[(0,i.createTextVNode)(" Kuoni Partner Stores "),(0,i.createElementVNode)("div",{class:"tooltip"},[(0,i.createElementVNode)("img",{src:"/images/icons/info-icon.svg"}),(0,i.createElementVNode)("span",{class:"tooltiptext"},"These Kuoni-branded independent travel agents work in partnership with us to offer the same service, passion and expertise we're known for.")])],-1),_={class:"store-search__body"},I={class:"tabs"},F={class:"map-wrapper"},q={class:"scrollbar-wrapper"},U={key:0},H=["onClick"],W={class:"store-search__info"},z=["href"],X={key:1,class:"loading-spinner"},Y=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],Q={key:2},Z={class:"pick-an-expert"},G=(0,i.createElementVNode)("label",null,[(0,i.createElementVNode)("img",{src:"/images/icons/person.svg"}),(0,i.createTextVNode)("Any expert, I don't mind")],-1),j={key:0,src:"/images/icons/tick-green.svg"},K={class:"scrollbar-wrapper"},$={key:0,class:"experts"},J=["onClick"],ee={key:0,class:"next-available"},te={key:1,class:"loading-spinner"},ne=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],oe={key:3,class:"pick-a-date"},ie={class:"sidebar__header"},re={key:4,class:"pick-a-time"},se={class:"scrollbar-wrapper"},ae={key:0,class:""},le=(0,i.createElementVNode)("br",null,null,-1),ce=(0,i.createElementVNode)("br",null,null,-1),ue=(0,i.createElementVNode)("br",null,null,-1),de={key:0},pe=(0,i.createTextVNode)(" or "),he=(0,i.createTextVNode)(". "),me={key:1},fe=(0,i.createTextVNode)(", "),ge=(0,i.createTextVNode)(" or "),ve=(0,i.createTextVNode)(". "),ye={key:1,class:"times"},we=["onClick"],ke={key:2,class:"loading-spinner"},Se=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],be={key:5,class:"pick-a-type"},Ee={class:"scrollbar-wrapper"},Ne={key:0,class:"types"},Ve=["onClick"],Ce=["src"],De={key:1,class:"loading-spinner"},Te=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],xe={key:6,class:"add-details"},Me={class:"sidebar__header"},Ae={class:"scrollbar-wrapper"},Le={key:0},Pe={class:"add-details-form"},Be={class:"form-input"},Re=(0,i.createElementVNode)("label",null,"Name",-1),Oe={class:"form-input"},_e=(0,i.createElementVNode)("label",null,"Email",-1),Ie={class:"form-input"},Fe=(0,i.createElementVNode)("label",null,"Telephone",-1),qe={class:"form-input"},Ue=(0,i.createElementVNode)("label",null,"Destination(s)",-1),He={class:"form-input"},We=(0,i.createElementVNode)("label",null,"Date of travel",-1),ze={class:"form-input"},Xe=(0,i.createElementVNode)("label",null,"Travel information",-1),Ye={key:1,class:"loading-spinner"},Qe=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],Ze={key:7,class:"appointment-summary"},Ge={class:"sidebar__header"},je={class:"scrollbar-wrapper"},Ke={key:0,class:"appointment-summary__details"},$e=(0,i.createTextVNode)("WHERE"),Je=(0,i.createTextVNode)("WHEN "),et={class:"flex"},tt={class:"details"},nt=(0,i.createTextVNode)("YOUR DETAILS"),ot=(0,i.createElementVNode)("i",null,"Name",-1),it=(0,i.createElementVNode)("i",null,"Email",-1),rt={class:"email-string"},st=(0,i.createElementVNode)("i",null,"Telephone",-1),at=(0,i.createElementVNode)("i",null,"Destinations",-1),lt=(0,i.createElementVNode)("i",null,"Dates",-1),ct=(0,i.createElementVNode)("i",null,"Message",-1),ut={key:1,class:"loading-spinner"},dt=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],pt={key:8,class:"confirmation-stage"},ht={class:"scrollbar-wrapper"},mt={key:0},ft={class:"confirmation-stage__body"},gt={key:1},vt={key:2},yt=(0,i.createElementVNode)("br",null,null,-1),wt=(0,i.createElementVNode)("br",null,null,-1),kt={class:"atcb cta"},St={key:1,class:"loading-spinner"},bt=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],Et=(0,i.defineComponent)({setup:function(e){var t={},o=(0,i.ref)(null),r=(0,i.ref)(null),s=(0,i.ref)(null),a=(0,i.ref)(null),l={center:{lat:0,lng:0},zoom:4,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0,styles:p},Et=(window.CmsPageContent,window.CmsGlobalContent),Nt=(0,u.O)(),Vt=(0,i.ref)("calendar"),Ct=(0,i.reactive)({date:new Date}),Dt=(0,i.reactive)({isSure:!0}),Tt=(0,i.reactive)({showMap:!1,townOrPostCode:"",yourPosition:null,yourMarker:null,map:null,townFilter:"",showTownsList:!1,infoWindow:null}),xt=(0,i.computed)((function(){return Nt.getAppointmentDetails})),Mt=(0,i.computed)((function(){return Nt.getStage})),At=(0,i.computed)((function(){return Nt.getError})),Lt=(0,i.computed)((function(){return Nt.open})),Pt=(0,i.computed)((function(){return Nt.selectedStore})),Bt=(0,i.computed)((function(){var e=Nt.getStores.sort((function(e,t){return e.distanceToUser<t.distanceToUser?-1:e.distanceToUser>t.distanceToUser?1:0})),t=Nt.userSelectedNortherIreland?0:e.findIndex((function(e){return!e.isPartner}));return t>0&&e.unshift(e.splice(t,1)[0]),e})),Rt=(0,i.computed)((function(){return Nt.stores})),Ot=[],_t=[],It=(0,i.reactive)({stores:!0,partners:!0});function Ft(e){for(var t=0;t<Ot.length;t++)Ot[t].setVisible(e)}function qt(e){for(var t=0;t<_t.length;t++)_t[t].setVisible(e)}function Ut(e){Dt.isSure=e,Nt.appointmentDetails.dateOfTravel=e?"":"I'm not sure yet"}(0,i.computed)((function(){return Nt.showStores})),(0,i.watch)((function(){return Nt.showStores}),(function(e,t){Ft(e),It.stores=e})),(0,i.computed)((function(){return Nt.showPartners})),(0,i.watch)((function(){return Nt.showPartners}),(function(e,t){qt(e),It.partners=e}));var Ht=(0,i.computed)((function(){return Nt.ptes})),Wt=(0,i.computed)((function(){var e;return null!==(e=Nt.selectedPte)&&void 0!==e?e:{name:"Anybody",image:"background-image: url(/images/icons/person.svg); background-repeat: no-repeat; background-size: 100%; border: none;"}})),zt=(0,i.computed)((function(){var e=Tt.townFilter.toLowerCase(),t=Nt.getTowns.filter((function(t){return t.townName.toLowerCase().includes(e)}));return t.length>0?t:[{townName:"Search '"+Tt.townFilter+"'",administrativeArea:"",searchValue:Tt.townFilter,location:{lat:0,lng:0}}]})),Xt=(0,i.computed)((function(){return Nt.destinations})),Yt=(0,i.computed)((function(){return c()(Nt.selectedDate).tz("Europe/London").format("YYYY-MM-DD")})),Qt=(0,i.computed)((function(){return c()(Nt.selectedDate).tz("Europe/London").format("DD MMMM")})),Zt=(0,i.computed)((function(){return c()(Nt.selectedDate).tz("Europe/London").format("ddd DD MMM")})),Gt=(0,i.computed)((function(){return c()(Nt.selectedDate).tz("Europe/London").format("HH:mm")})),jt=(0,i.computed)((function(){return c()(Nt.selectedDate).tz("Europe/London").add($t.value.duration,"minute").format("HH:mm")})),Kt=(0,i.computed)((function(){return Nt.appointmentTypes})),$t=(0,i.computed)((function(){return Nt.getAppointmentType})),Jt=(0,i.computed)((function(){return Nt.selectableDates})),en=(0,i.computed)((function(){return Nt.getLoading})),tn=(0,i.computed)((function(){return function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([{start:"2999-12-31"}],Jt.value.map((function(e){return{start:e,end:e}})),!0)})),nn=(0,i.computed)((function(){return Nt.selectableTimes}));function on(e){Tt.townFilter=e.target.value,Tt.showTownsList=""!=Tt.townFilter}function rn(e){Nt.setOpen(e)}function sn(e){Nt.setLoading(e)}function an(e){return c()(e).tz("Europe/London").format("HH:mm")}function ln(e){return c()(e).tz("Europe/London").format("HH:mm")==Gt.value}function cn(e){Nt.goToStage(e)}function un(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){return e.isPartner?(window.kuoni.partnerForm.openSidebar(e.id,e.name),rn(!1),[2]):(Nt.selectStore(e),sn(!0),Nt.fetchPtes().then((function(){sn(!1)})),cn(d.X.ExpertSelect),[2])}))}))}function dn(e){Nt.selectPte(e),cn(d.X.DateSelect)}function pn(e){var t=e.id;tn.value.some((function(e){return e.start.substring(0,10)==t}))&&(Nt.selectedDate=new Date(t),sn(!0),Nt.calculateTimes().then((function(){sn(!1)})),cn(d.X.TimeSelect))}function hn(e){var t=new Date(Nt.calendarDate);t.setMonth(e.month-1),t.setFullYear(e.year),Nt.selectCalendarDate(t),Nt.calculateDates()}function mn(){(function(){var e=!0;r.value.classList.remove("invalid"),s.value.classList.remove("invalid"),a.value.classList.remove("invalid");var t=null;return xt.value.name||(e=!1,r.value.classList.add("invalid"),t=r),xt.value.email||(e=!1,s.value.classList.add("invalid"),t||(t=s)),xt.value.phone||(e=!1,a.value.classList.add("invalid"),t||(t=a)),t&&t.value.focus(),e})()&&cn(d.X.Confirm)}function fn(){return g(this,void 0,void 0,(function(){var e=this;return v(this,(function(t){return sn(!0),Nt.makeAppointment().then((function(){return g(e,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return sn(!1),[4,cn(d.X.ThankYou)];case 1:return e.sent(),[2]}}))}))})),[2]}))}))}function gn(){return g(this,void 0,void 0,(function(){return v(this,(function(e){return kn(),navigator.geolocation.getCurrentPosition((function(e){wn({lat:e.coords.latitude,lng:e.coords.longitude})})),[2]}))}))}function vn(e){"Enter"===e.key&&(yn(),Tt.showTownsList=!1)}function yn(){null!=t[Tt.townOrPostCode]?wn(t[Tt.townOrPostCode]):(new google.maps.Geocoder).geocode({address:Tt.townOrPostCode+", UK"}).then((function(e){var n=e.results[0].address_components;t[Tt.townOrPostCode]={lat:e.results[0].geometry.location.lat(),lng:e.results[0].geometry.location.lng(),addressComponents:n},wn(t[Tt.townOrPostCode]),n.some((function(e){return"Northern Ireland"==e.short_name}))?Nt.userSelectedNortherIreland=!0:Nt.userSelectedNortherIreland=!1}))}function wn(e){Nt.yourPosition=e,null!=Tt.yourMarker?Tt.yourMarker.setPosition(Nt.yourPosition):Tt.yourMarker=new window.google.maps.Marker({position:Nt.yourPosition,map:Tt.map}),function(){for(var e=Rt.value.map((function(e){return{id:e.id,location:{lng:e.lng,lat:e.lat}}})),t=new google.maps.DistanceMatrixService,n=new Array,o=function(o){var i=e.slice(o,o+25);n.push(function(n){return t.getDistanceMatrix({origins:[Nt.yourPosition],destinations:i.map((function(e){return e.location})),travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL}).then((function(t){for(var o=t.rows[0].elements,i=0;i<o.length;i++){var r=o[i];Nt.setStoreDistance(e[n+i].id,r.distance.text,r.distance.value)}}))}(o))},i=0;i<e.length;i+=25)o(i);Promise.all(n).then((function(e){if(Tt.map){var t=Bt.value[0];Sn(t,!1);var n=new google.maps.LatLngBounds;n.extend({lng:t.lng,lat:t.lat}),n.extend(Nt.yourPosition),Tt.map.fitBounds(n,{right:50,top:50})}}))}()}function kn(){Tt.showMap=!0,Ot.length=0,_t.length=0,Tt.yourMarker=null,Tt.map=new google.maps.Map(document.getElementById("store-select-map"),l),Tt.infoWindow=Tt.infoWindow||new window.google.maps.InfoWindow({}),google.maps.event.addListenerOnce(Tt.map,"tilesloaded",(function(){return document.querySelectorAll(".gm-style div[role='button'] img[draggable='false']").forEach((function(e){return e.addEventListener("touchstart",(function(e){e.stopImmediatePropagation()}))}))}));var e=new google.maps.LatLngBounds;Nt.stores.forEach((function(t){var n={lng:t.lng,lat:t.lat};t.appointmentMarker=new window.google.maps.Marker({position:n,map:Tt.map,icon:t.isPartner?f:m}),t.isPartner?_t.push(t.appointmentMarker):Ot.push(t.appointmentMarker),t.infoWindowContent='<div class="store-popup">\n                <div class="store-popup__info">\n                    <h5>'+t.name+"</h5>\n                    <p>"+t.address+'</p>\n                    <a id="ap-map-info" href="javascript:void(0);">Select Store</a>\n                </div>\n                <div class="store-popup__image">\n                    <div class="image" style="height: 100%;'+t.imageCss+'"></div>\n                </div>\n            </div>',t.appointmentMarker.addListener("click",(function(e){e.domEvent.stopPropagation(),Sn(t)})),e.extend(n),null!=Nt.yourPosition&&(wn(Nt.yourPosition),e.extend(Nt.yourPosition)),Tt.map.fitBounds(e)})),Ft(It.stores),qt(It.partners)}function Sn(e,t){void 0===t&&(t=!0),t&&Tt.map.panTo({lat:e.lat,lng:e.lng}),Tt.infoWindow.setContent(e.infoWindowContent),Tt.infoWindow.open({map:Tt.map,anchor:e.appointmentMarker,shouldFocus:!0}),window.setTimeout((function(){document.getElementById("ap-map-info").addEventListener("click",(function(){return un(e)}))}),0)}function bn(){Mt.value==d.X.StoreList&&Tt.showMap&&kn(),(0,h.iu)()}return(0,i.onMounted)((function(){var e=n(178),t=n(9387);c().extend(e),c().extend(t),c().tz.setDefault("Europe/London"),Promise.all([Nt.fetchStores(),Nt.fetchTowns()]).then((function(){sn(!1)}))})),function(e,t){var n=(0,i.resolveComponent)("v-date-picker"),l=(0,i.resolveComponent)("vueform-multiselect");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["sidebar appointment-booker",{active:(0,i.unref)(Lt)}]),onClick:t[36]||(t[36]=function(e){return rn(!1)})},[(0,i.createElementVNode)("div",{class:"sidebar__content",onClick:t[35]||(t[35]=(0,i.withModifiers)((function(){}),["stop"]))},[(0,i.createElementVNode)("div",y,[(0,i.createElementVNode)("img",{onClick:t[0]||(t[0]=function(e){return rn(!1)}),class:"close-sidebar",src:"/images/icons/cancel.svg"}),(0,i.createVNode)(i.Transition,{name:"slide-fade",mode:"out-in",onAfterEnter:bn},{default:(0,i.withCtx)((function(){return[(0,i.unref)(At)?((0,i.openBlock)(),(0,i.createElementBlock)("div",w,[(0,i.createElementVNode)("div",k,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(At)),1),(0,i.unref)(Pt)?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,href:"tel:"+(0,i.unref)(Pt).phone},(0,i.toDisplayString)((0,i.unref)(Pt).phone),9,S)):(0,i.createCommentVNode)("v-if",!0)])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).StoreList?((0,i.openBlock)(),(0,i.createElementBlock)("div",b,[(0,i.createElementVNode)("div",E,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).FindYourStoreHeading||"Find your nearest store"),1)]),(0,i.createElementVNode)("div",N,[(0,i.withDirectives)((0,i.createElementVNode)("input",{placeholder:(0,i.unref)(Et).MapSearchPlaceholderText||"Postcode or Town",onInput:on,onKeypress:vn,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,i.unref)(Tt).townOrPostCode=e})},null,40,V),[[i.vModelText,(0,i.unref)(Tt).townOrPostCode]]),(0,i.unref)(Tt).showTownsList?((0,i.openBlock)(),(0,i.createElementBlock)("div",C,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(zt),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:function(t){return function(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){return e.searchValue?Tt.townOrPostCode=e.searchValue:Tt.townOrPostCode=e.townName+", "+e.administrativeArea,Tt.showTownsList=!1,yn(),[2]}))}))}(e)}},[(0,i.createTextVNode)((0,i.toDisplayString)(e.townName),1),(0,i.createElementVNode)("span",T,", "+(0,i.toDisplayString)(e.administrativeArea),1)],8,D)})),256))])):(0,i.createCommentVNode)("v-if",!0),(0,i.createElementVNode)("a",{onClick:gn},[(0,i.createElementVNode)("label",null,(0,i.toDisplayString)((0,i.unref)(Et).WhatsNearbyText||"What's nearby"),1),x])]),(0,i.createElementVNode)("div",M,[(0,i.createElementVNode)("div",A,[(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"checkbox",id:"storesCheckbox",name:"storesCheckbox","data-type":"Kuoni Store","onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,i.unref)(It).stores=e}),onChange:t[3]||(t[3]=function(e){Nt.setShowStores(It.stores)})},null,544),[[i.vModelCheckbox,(0,i.unref)(It).stores]]),L,P]),(0,i.createElementVNode)("div",B,[(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"checkbox",id:"partnersCheckbox",name:"partnersCheckbox","data-type":"Partner Store","onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,i.unref)(It).partners=e}),onChange:t[5]||(t[5]=function(e){Nt.setShowPartners(It.partners)})},null,544),[[i.vModelCheckbox,(0,i.unref)(It).partners]]),R,O])]),(0,i.createElementVNode)("div",_,[(0,i.createElementVNode)("ul",I,[(0,i.createElementVNode)("li",{class:(0,i.normalizeClass)({active:!(0,i.unref)(Tt).showMap}),onClick:t[6]||(t[6]=function(e){Tt.showMap=!1})},"View List",2),(0,i.createElementVNode)("li",{class:(0,i.normalizeClass)({active:(0,i.unref)(Tt).showMap}),onClick:t[7]||(t[7]=function(e){return kn()})},"Map",2)]),(0,i.withDirectives)((0,i.createElementVNode)("div",F,[(0,i.createElementVNode)("div",{id:"store-select-map",ref_key:"theMap",ref:o},null,512)],512),[[i.vShow,(0,i.unref)(Tt).showMap]]),(0,i.withDirectives)((0,i.createElementVNode)("div",q,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",X,Y)):((0,i.openBlock)(),(0,i.createElementBlock)("div",U,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(Bt),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"store-search__store",key:e.id,onClick:function(t){return un(e)}},[(0,i.createElementVNode)("div",W,[(0,i.createElementVNode)("small",null,(0,i.toDisplayString)(e.distanceToUserDescription),1),(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)(e.name),1),(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.address),1),(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.phone),1),(0,i.createElementVNode)("p",null,(0,i.toDisplayString)(e.nextAvailable),1),(0,i.createElementVNode)("a",{onClick:t[8]||(t[8]=(0,i.withModifiers)((function(){}),["stop"])),href:e.link,target:"_blank"},"View store details",8,z)]),(0,i.createElementVNode)("div",{class:"image",style:(0,i.normalizeStyle)(e.imageCss)},null,4)],8,H)})),128))]))],512),[[i.vShow,!(0,i.unref)(Tt).showMap]])])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).ExpertSelect?((0,i.openBlock)(),(0,i.createElementBlock)("div",Q,[(0,i.createElementVNode)("img",{onClick:t[9]||(t[9]=function(e){return cn((0,i.unref)(d.X).StoreList)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("div",Z,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).PickAnExpertHeading||"Pick an expert"),1),(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(["any-expert",{active:"Anybody"===(0,i.unref)(Wt).name}]),onClick:t[10]||(t[10]=function(e){return dn(null)})},[G,"Anybody"===(0,i.unref)(Wt).name?((0,i.openBlock)(),(0,i.createElementBlock)("img",j)):(0,i.createCommentVNode)("v-if",!0)],2),(0,i.createElementVNode)("div",K,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",te,ne)):((0,i.openBlock)(),(0,i.createElementBlock)("div",$,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(Ht),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["expert",{active:(0,i.unref)(Wt)===e}]),key:e.id,onClick:function(t){return dn(e)}},[(0,i.createElementVNode)("div",null,[(0,i.createElementVNode)("div",{class:"expert-image",style:(0,i.normalizeStyle)(e.image)},null,4),(0,i.createElementVNode)("div",null,[(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.name),1),(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.jobTitle),1),(0,i.createElementVNode)("p",null,(0,i.toDisplayString)(e.expertText),1)])]),e.nextAvailable?((0,i.openBlock)(),(0,i.createElementBlock)("p",ee,"Next available appointment "+(0,i.toDisplayString)(e.nextAvailable),1)):(0,i.createCommentVNode)("v-if",!0)],10,J)})),128))]))])])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).DateSelect?((0,i.openBlock)(),(0,i.createElementBlock)("div",oe,[(0,i.createElementVNode)("img",{onClick:t[11]||(t[11]=function(e){return cn((0,i.unref)(d.X).ExpertSelect)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("div",ie,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).DateHeading||"When do you want to visit?"),1),(0,i.createElementVNode)("p",null,[(0,i.createTextVNode)((0,i.toDisplayString)((0,i.unref)(Pt).name)+" ",1),(0,i.createElementVNode)("a",{onClick:t[12]||(t[12]=function(e){return cn((0,i.unref)(d.X).StoreList)})},"Edit")])]),(0,i.createElementVNode)("div",null,[(0,i.createVNode)(n,{ref_key:"calendar",ref:Vt,"first-day-of-week":2,masks:{weekdays:"WW"},"onUpdate:fromPage":hn,modelValue:(0,i.unref)(Ct).date,"onUpdate:modelValue":t[13]||(t[13]=function(e){return(0,i.unref)(Ct).date=e}),onDayclick:pn,"available-dates":(0,i.unref)(tn)},null,8,["modelValue","available-dates"])])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).TimeSelect?((0,i.openBlock)(),(0,i.createElementBlock)("div",re,[(0,i.createElementVNode)("img",{onClick:t[14]||(t[14]=function(e){return cn((0,i.unref)(d.X).DateSelect)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("h6",null,(0,i.toDisplayString)((0,i.unref)(Et).TimeHeading||"Choose a time"),1),(0,i.createElementVNode)("div",se,[(0,i.createVNode)(i.Transition,{name:"slide-fade",mode:"out-in"},{default:(0,i.withCtx)((function(){return[(0,i.unref)(en)||0!==(0,i.unref)(nn).length?(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",ke,Se)):((0,i.openBlock)(),(0,i.createElementBlock)("div",ye,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(nn),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["time",{active:ln(e.start)}]),key:e.start,onClick:function(t){return function(e){Nt.selectedDate=new Date(e.start),sn(!0),Nt.fetchAppointmentTypes().then((function(){sn(!1)})),cn(d.X.TypeSelect)}(e)}},[(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(an(e.start)),1)],10,we)})),128))])):((0,i.openBlock)(),(0,i.createElementBlock)("div",ae,[le,ce,ue,"Anybody"===(0,i.unref)(Wt).name?((0,i.openBlock)(),(0,i.createElementBlock)("p",de,[(0,i.createTextVNode)(" All our experts are busy on "+(0,i.toDisplayString)((0,i.unref)(Qt))+", please select a different ",1),(0,i.createElementVNode)("a",{href:"javascript:void(0);",style:{color:"#006f84"},onClick:t[15]||(t[15]=function(e){return cn((0,i.unref)(d.X).DateSelect)})}," date "),pe,(0,i.createElementVNode)("a",{href:"javascript:void(0);",style:{color:"#006f84"},onClick:t[16]||(t[16]=function(e){return cn((0,i.unref)(d.X).StoreList)})}," store"),he])):((0,i.openBlock)(),(0,i.createElementBlock)("p",me,[(0,i.createTextVNode)((0,i.toDisplayString)((0,i.unref)(Wt).name)+" is not available on "+(0,i.toDisplayString)((0,i.unref)(Qt))+", please select a different ",1),(0,i.createElementVNode)("a",{href:"javascript:void(0);",style:{color:"#006f84"},onClick:t[17]||(t[17]=function(e){return cn((0,i.unref)(d.X).ExpertSelect)})}," expert"),fe,(0,i.createElementVNode)("a",{href:"javascript:void(0);",style:{color:"#006f84"},onClick:t[18]||(t[18]=function(e){return cn((0,i.unref)(d.X).DateSelect)})}," date "),ge,(0,i.createElementVNode)("a",{href:"javascript:void(0);",style:{color:"#006f84"},onClick:t[19]||(t[19]=function(e){return cn((0,i.unref)(d.X).StoreList)})}," store"),ve]))]))]})),_:1})])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).TypeSelect?((0,i.openBlock)(),(0,i.createElementBlock)("div",be,[(0,i.createElementVNode)("img",{onClick:t[20]||(t[20]=function(e){return cn((0,i.unref)(d.X).TimeSelect)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("h6",null,(0,i.toDisplayString)((0,i.unref)(Et).AppointmentTypeHeading||"How would you like your appointment?"),1),(0,i.createElementVNode)("div",Ee,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",De,Te)):((0,i.openBlock)(),(0,i.createElementBlock)("div",Ne,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(Kt),(function(e){var t;return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["type",{active:(null===(t=(0,i.unref)($t))||void 0===t?void 0:t.id)===e.id}]),key:e.id,onClick:function(t){return n=e,Nt.selectAppointmentType(n),sn(!0),Nt.fetchDestinations().then((function(){sn(!1)})),void cn(d.X.Details);var n}},[(0,i.createElementVNode)("img",{src:e.icon},null,8,Ce),(0,i.createElementVNode)("div",null,[(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.name),1),(0,i.createElementVNode)("p",null,(0,i.toDisplayString)(e.description),1)])],10,Ve)})),128))]))])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).Details?((0,i.openBlock)(),(0,i.createElementBlock)("div",xe,[(0,i.createElementVNode)("img",{onClick:t[21]||(t[21]=function(e){return cn((0,i.unref)(d.X).TypeSelect)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("div",Me,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).DetailsHeading||"Add your details"),1)]),(0,i.createElementVNode)("div",Ae,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",Ye,Qe)):((0,i.openBlock)(),(0,i.createElementBlock)("div",Le,[(0,i.createElementVNode)("form",Pe,[(0,i.createElementVNode)("div",Be,[Re,(0,i.withDirectives)((0,i.createElementVNode)("input",{name:"name","onUpdate:modelValue":t[22]||(t[22]=function(e){return(0,i.unref)(xt).name=e}),ref_key:"adName",ref:r},null,512),[[i.vModelText,(0,i.unref)(xt).name]])]),(0,i.createElementVNode)("div",Oe,[_e,(0,i.withDirectives)((0,i.createElementVNode)("input",{name:"email",type:"email","onUpdate:modelValue":t[23]||(t[23]=function(e){return(0,i.unref)(xt).email=e}),ref_key:"adEmail",ref:s},null,512),[[i.vModelText,(0,i.unref)(xt).email]])]),(0,i.createElementVNode)("div",Ie,[Fe,(0,i.withDirectives)((0,i.createElementVNode)("input",{name:"phone",type:"tel","onUpdate:modelValue":t[24]||(t[24]=function(e){return(0,i.unref)(xt).phone=e}),ref_key:"adPhone",ref:a},null,512),[[i.vModelText,(0,i.unref)(xt).phone]])]),(0,i.createElementVNode)("div",qe,[Ue,(0,i.createVNode)(l,{modelValue:(0,i.unref)(xt).destinations,"onUpdate:modelValue":t[25]||(t[25]=function(e){return(0,i.unref)(xt).destinations=e}),mode:"tags","close-on-select":!1,searchable:!0,options:(0,i.unref)(Xt)},null,8,["modelValue","options"]),(0,i.withDirectives)((0,i.createElementVNode)("input",{name:"destinations",type:"hidden","onUpdate:modelValue":t[26]||(t[26]=function(e){return(0,i.unref)(xt).destinations=e})},null,512),[[i.vModelText,(0,i.unref)(xt).destinations]])]),(0,i.createElementVNode)("div",He,[We,(0,i.unref)(Dt).isSure?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("input",{key:0,name:"dateOfTravel",type:"date","onUpdate:modelValue":t[27]||(t[27]=function(e){return(0,i.unref)(xt).dateOfTravel=e})},null,512)),[[i.vModelText,(0,i.unref)(xt).dateOfTravel]]):(0,i.createCommentVNode)("v-if",!0),(0,i.unref)(Dt).isSure?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:1,class:"not-sure",onClick:t[28]||(t[28]=function(e){return Ut(!1)}),href:"javascript: void(0);"},"I'm not sure yet")):(0,i.createCommentVNode)("v-if",!0),(0,i.unref)(Dt).isSure?(0,i.createCommentVNode)("v-if",!0):((0,i.openBlock)(),(0,i.createElementBlock)("input",{key:2,onClick:t[29]||(t[29]=function(e){return Ut(!0)}),name:"dateOfTravel",type:"text",value:"I'm not sure yet",readonly:""}))]),(0,i.createElementVNode)("div",ze,[Xe,(0,i.createElementVNode)("p",null,(0,i.toDisplayString)((0,i.unref)(Et).DetailsText||"Tell us who is going with you, what airport you'd like to fly from and any other details we may find useful, such as if it's a special occasion."),1),(0,i.withDirectives)((0,i.createElementVNode)("textarea",{name:"travelInfo","onUpdate:modelValue":t[30]||(t[30]=function(e){return(0,i.unref)(xt).travelInfo=e})},null,512),[[i.vModelText,(0,i.unref)(xt).travelInfo]])]),(0,i.createElementVNode)("button",{type:"button",onClick:mn},"Confirm appointment")])]))])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).Confirm?((0,i.openBlock)(),(0,i.createElementBlock)("div",Ze,[(0,i.createElementVNode)("img",{onClick:t[31]||(t[31]=function(e){return cn((0,i.unref)(d.X).Details)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("div",Ge,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).ConfirmHeading||"Your appointment"),1)]),(0,i.createElementVNode)("div",je,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("div",ut,dt)):((0,i.openBlock)(),(0,i.createElementBlock)("div",Ke,[(0,i.createElementVNode)("section",null,[(0,i.createElementVNode)("h5",null,[$e,(0,i.createElementVNode)("span",{onClick:t[32]||(t[32]=function(e){return cn((0,i.unref)(d.X).StoreList)})},"Edit")]),(0,i.createElementVNode)("p",null,(0,i.toDisplayString)((0,i.unref)(Pt).name),1),(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((0,i.unref)(Pt).address),1)]),(0,i.createElementVNode)("section",null,[(0,i.createElementVNode)("h5",null,[Je,(0,i.createElementVNode)("span",{onClick:t[33]||(t[33]=function(e){return cn((0,i.unref)(d.X).ExpertSelect)})},"Edit")]),(0,i.createElementVNode)("div",et,[(0,i.createElementVNode)("p",null,(0,i.toDisplayString)((0,i.unref)($t).name)+" with "+(0,i.toDisplayString)((0,i.unref)(Wt).name)+" on "+(0,i.toDisplayString)((0,i.unref)(Zt))+" at "+(0,i.toDisplayString)((0,i.unref)(Gt)),1),(0,i.createElementVNode)("div",{class:"expert-image",style:(0,i.normalizeStyle)((0,i.unref)(Wt).image)},null,4)])]),(0,i.createElementVNode)("section",tt,[(0,i.createElementVNode)("h5",null,[nt,(0,i.createElementVNode)("span",{onClick:t[34]||(t[34]=function(e){return cn((0,i.unref)(d.X).Details)})},"Edit")]),(0,i.createElementVNode)("p",null,[ot,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((0,i.unref)(xt).name),1)]),(0,i.createElementVNode)("p",null,[it,(0,i.createElementVNode)("span",rt,(0,i.toDisplayString)((0,i.unref)(xt).email),1)]),(0,i.createElementVNode)("p",null,[st,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((0,i.unref)(xt).phone),1)]),(0,i.createElementVNode)("p",null,[at,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((e=(0,i.unref)(xt).destinations,e?e.join(", "):"")),1)]),(0,i.createElementVNode)("p",null,[lt,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((0,i.unref)(xt).dateOfTravel),1)]),(0,i.createElementVNode)("p",null,[ct,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)((0,i.unref)(xt).travelInfo),1)])]),(0,i.createElementVNode)("button",{type:"button",onClick:fn},"Confirm appointment")]))])])):(0,i.unref)(Mt)==(0,i.unref)(d.X).ThankYou?((0,i.openBlock)(),(0,i.createElementBlock)("div",pt,[(0,i.createElementVNode)("div",ht,[(0,i.unref)(en)?((0,i.openBlock)(),(0,i.createElementBlock)("a",St,bt)):((0,i.openBlock)(),(0,i.createElementBlock)("div",mt,[(0,i.createElementVNode)("div",{class:"confirmation-stage__header",style:(0,i.normalizeStyle)((0,i.unref)(Pt).imageCss)},null,4),(0,i.createElementVNode)("div",ft,[null!=(0,i.unref)(Wt).image&&"Anybody"!=(0,i.unref)(Wt).name?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"confirmation__pte",style:(0,i.normalizeStyle)((0,i.unref)(Wt).image)},null,4)):(0,i.createCommentVNode)("v-if",!0),(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(Et).ThankYouHeading||"Thank you"),1),"Anybody"===(0,i.unref)(Wt).name?((0,i.openBlock)(),(0,i.createElementBlock)("p",gt,[(0,i.createTextVNode)("Your appointment at our "+(0,i.toDisplayString)((0,i.unref)(Pt).name)+" store is confirmed for ",1),(0,i.createElementVNode)("b",null,(0,i.toDisplayString)((0,i.unref)(Gt))+" on "+(0,i.toDisplayString)((0,i.unref)(Zt)),1)])):((0,i.openBlock)(),(0,i.createElementBlock)("p",vt,[(0,i.createTextVNode)("Your appointment with "+(0,i.toDisplayString)((0,i.unref)(Wt).name)+" at our "+(0,i.toDisplayString)((0,i.unref)(Pt).name)+" store is confirmed for ",1),(0,i.createElementVNode)("b",null,(0,i.toDisplayString)((0,i.unref)(Gt))+" on "+(0,i.toDisplayString)((0,i.unref)(Zt)),1)])),yt,wt,(0,i.createElementVNode)("div",kt,' { "name":"'+(0,i.toDisplayString)((0,i.unref)($t).nameForCalendarSubject||(0,i.unref)($t).name)+" with "+(0,i.toDisplayString)(Wt.value&&"Anybody"!=Wt.value.name?Wt.value.name.split(" ")[0]:"a Kuoni Travel Expert")+" at "+(0,i.toDisplayString)((0,i.unref)(Pt).name)+' store", "description":"", "startDate":"'+(0,i.toDisplayString)((0,i.unref)(Yt))+'", "endDate":"'+(0,i.toDisplayString)((0,i.unref)(Yt))+'", "startTime":"'+(0,i.toDisplayString)((0,i.unref)(Gt))+'", "endTime":"'+(0,i.toDisplayString)((0,i.unref)(jt))+'", "location":"'+(0,i.toDisplayString)((0,i.unref)($t).name)+'", "options":[ "Apple", "Google", "iCal|Outlook", "Outlook.com", "Yahoo" ], "timeZone":"Europe/London", "iCalFileName":"Reminder-Event" } ',1),(0,i.createCommentVNode)('<a href="https://my.kuoni.co.uk/mykuoni" class="cta white-button"><img src="/images/icons/suitcase.svg" />View in my Kuoni</a>')])]))])])):(0,i.createCommentVNode)("v-if",!0)];var e})),_:1})])])],2)}}}),Nt=Et,Vt=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},Ct=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Dt={class:"sidebar__body"},Tt={key:0},xt={class:"sidebar__header"},Mt=["href"],At={key:1,class:"pick-a-store"},Lt={class:"sidebar__header"},Pt={class:"store-search__input"},Bt=["placeholder"],Rt={key:0,class:"auto-complete-options"},Ot=["onClick"],_t={style:{color:"gray"}},It=(0,i.createElementVNode)("img",{src:"/images/icons/cursor.svg",alt:"cursor"},null,-1),Ft={class:"filters"},qt={class:"filter-option kuoni-stores"},Ut=(0,i.createElementVNode)("div",{class:"checkbox"},null,-1),Ht=(0,i.createElementVNode)("label",{for:"storesCheckbox",id:"storesCheckbox-label"},[(0,i.createTextVNode)(" Kuoni Stores "),(0,i.createElementVNode)("div",{class:"tooltip"},[(0,i.createElementVNode)("img",{src:"/images/icons/info-icon.svg"}),(0,i.createElementVNode)("span",{class:"tooltiptext"},"Plan your next holiday inside one of our beautiful stores while relaxing with a complimentary drink and chatting to our Personal Travel Experts.")])],-1),Wt={class:"filter-option partner-stores"},zt=(0,i.createElementVNode)("div",{class:"checkbox"},null,-1),Xt=(0,i.createElementVNode)("label",{for:"partnersCheckbox",id:"partnersCheckbox-label"},[(0,i.createTextVNode)(" Kuoni Partner Stores "),(0,i.createElementVNode)("div",{class:"tooltip"},[(0,i.createElementVNode)("img",{src:"/images/icons/info-icon.svg"}),(0,i.createElementVNode)("span",{class:"tooltiptext"},"These Kuoni-branded independent travel agents work in partnership with us to offer the same service, passion and expertise we're known for.")])],-1),Yt={class:"store-search__body"},Qt={class:"tabs"},Zt={class:"map-wrapper"},Gt={id:"store-select-map",ref:"theMap"},jt={class:"scrollbar-wrapper"},Kt={key:0},$t=["onClick"],Jt={class:"store-search__info"},en=["href"],tn={key:1,class:"loading-spinner"},nn=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],on={key:2},rn={class:"pick-an-expert"},sn={class:"scrollbar-wrapper"},an=["src"],ln={key:3},cn={class:"pick-an-expert"},un={class:"scrollbar-wrapper"},dn=["src"],pn=(0,i.defineComponent)({props:["url"],setup:function(e){var t=e,n={},o={center:{lat:0,lng:0},zoom:4,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0,styles:p},r=(window.CmsPageContent,window.CmsGlobalContent),s=(0,u.O)(),a=((0,i.reactive)({isSure:!0}),(0,i.reactive)({showMap:!1,townOrPostCode:"",yourPosition:null,yourMarker:null,map:null,townFilter:"",showTownsList:!1,infoWindow:null})),l=((0,i.computed)((function(){return s.getAppointmentDetails})),(0,i.computed)((function(){return t.url.replaceAll("{NID}",v.value.nid)}))),c=(0,i.computed)((function(){return s.getStage})),h=(0,i.computed)((function(){return s.getError})),g=(0,i.computed)((function(){return s.open})),v=(0,i.computed)((function(){return s.selectedStore})),y=(0,i.computed)((function(){var e=s.getStores.sort((function(e,t){return e.distanceToUser<t.distanceToUser?-1:e.distanceToUser>t.distanceToUser?1:0})),t=s.userSelectedNortherIreland?0:e.findIndex((function(e){return!e.isPartner}));return t>0&&e.unshift(e.splice(t,1)[0]),e})),w=(0,i.computed)((function(){return s.stores})),k=[],S=[],b=(0,i.reactive)({stores:!0,partners:!0});function E(e){for(var t=0;t<k.length;t++)k[t].setVisible(e)}function N(e){for(var t=0;t<S.length;t++)S[t].setVisible(e)}(0,i.computed)((function(){return s.showStores})),(0,i.watch)((function(){return s.showStores}),(function(e,t){E(e),b.stores=e})),(0,i.computed)((function(){return s.showPartners})),(0,i.watch)((function(){return s.showPartners}),(function(e,t){N(e),b.partners=e})),(0,i.computed)((function(){return s.ptes})),(0,i.computed)((function(){var e;return null!==(e=s.selectedPte)&&void 0!==e?e:{name:"Anybody",image:"background-image: url(/images/icons/person.svg); background-repeat: no-repeat; background-size: 100%; border: none;"}}));var V=(0,i.computed)((function(){var e=a.townFilter.toLowerCase(),t=s.getTowns.filter((function(t){return t.townName.toLowerCase().includes(e)}));return t.length>0?t:[{townName:"Search '"+a.townFilter+"'",administrativeArea:"",searchValue:a.townFilter,location:{lat:0,lng:0}}]})),C=(0,i.computed)((function(){return s.getLoading}));function D(e){a.townFilter=e.target.value,a.showTownsList=""!=a.townFilter}function T(e){s.setOpen(e)}function x(e){s.setLoading(e)}function M(e){s.goToStage(e)}function A(e){return Vt(this,void 0,void 0,(function(){return Ct(this,(function(t){return e.isPartner?(window.kuoni.partnerForm.openSidebar(e.id,e.name),T(!1),[2]):(s.selectStore(e),x(!0),s.fetchPtes().then((function(){x(!1)})),M(d.X.ExpertSelect),[2])}))}))}function L(){return Vt(this,void 0,void 0,(function(){return Ct(this,(function(e){return O(),navigator.geolocation.getCurrentPosition((function(e){R({lat:e.coords.latitude,lng:e.coords.longitude})})),[2]}))}))}function P(e){"Enter"===e.key&&(B(),a.showTownsList=!1)}function B(){null!=n[a.townOrPostCode]?R(n[a.townOrPostCode]):(new google.maps.Geocoder).geocode({address:a.townOrPostCode+", UK"}).then((function(e){var t=e.results[0].address_components;n[a.townOrPostCode]={lat:e.results[0].geometry.location.lat(),lng:e.results[0].geometry.location.lng(),addressComponents:t},R(n[a.townOrPostCode]),t.some((function(e){return"Northern Ireland"==e.short_name}))?s.userSelectedNortherIreland=!0:s.userSelectedNortherIreland=!1}))}function R(e){s.yourPosition=e,null!=a.yourMarker?a.yourMarker.setPosition(s.yourPosition):a.yourMarker=new window.google.maps.Marker({position:s.yourPosition,map:a.map}),function(){for(var e=w.value.map((function(e){return{id:e.id,location:{lng:e.lng,lat:e.lat}}})),t=new google.maps.DistanceMatrixService,n=new Array,o=function(o){var i=e.slice(o,o+25);n.push(function(n){return t.getDistanceMatrix({origins:[s.yourPosition],destinations:i.map((function(e){return e.location})),travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL}).then((function(t){for(var o=t.rows[0].elements,i=0;i<o.length;i++){var r=o[i];s.setStoreDistance(e[n+i].id,r.distance.text,r.distance.value)}}))}(o))},i=0;i<e.length;i+=25)o(i);Promise.all(n).then((function(e){if(a.map){var t=y.value[0];_(t,!1);var n=new google.maps.LatLngBounds;n.extend({lng:t.lng,lat:t.lat}),n.extend(s.yourPosition),a.map.fitBounds(n,{right:50,top:50})}}))}()}function O(){a.showMap=!0,k.length=0,S.length=0,a.yourMarker=null,a.map=new google.maps.Map(document.getElementById("store-select-map"),o),a.infoWindow=a.infoWindow||new window.google.maps.InfoWindow({}),google.maps.event.addListenerOnce(a.map,"tilesloaded",(function(){return document.querySelectorAll(".gm-style div[role='button'] img[draggable='false']").forEach((function(e){return e.addEventListener("touchstart",(function(e){e.stopImmediatePropagation()}))}))}));var e=new google.maps.LatLngBounds;s.stores.forEach((function(t){var n={lng:t.lng,lat:t.lat};t.appointmentMarker=new window.google.maps.Marker({position:n,map:a.map,icon:t.isPartner?f:m}),t.isPartner?S.push(t.appointmentMarker):k.push(t.appointmentMarker),t.infoWindowContent='<div class="store-popup">\n                <div class="store-popup__info">\n                    <h5>'+t.name+"</h5>\n                    <p>"+t.address+'</p>\n                    <a id="ap-map-info" href="javascript:void(0);">Select Store</a>\n                </div>\n                <div class="store-popup__image">\n                    <div class="image" style="height: 100%;'+t.imageCss+'"></div>\n                </div>\n            </div>',t.appointmentMarker.addListener("click",(function(e){e.domEvent.stopPropagation(),_(t)})),e.extend(n),null!=s.yourPosition&&(R(s.yourPosition),e.extend(s.yourPosition)),a.map.fitBounds(e)})),E(b.stores),N(b.partners)}function _(e,t){void 0===t&&(t=!0),t&&a.map.panTo({lat:e.lat,lng:e.lng}),a.infoWindow.setContent(e.infoWindowContent),a.infoWindow.open({map:a.map,anchor:e.appointmentMarker,shouldFocus:!0}),window.setTimeout((function(){document.getElementById("ap-map-info").addEventListener("click",(function(){return A(e)}))}),0)}function I(){c.value==d.X.StoreList&&a.showMap&&O()}return(0,i.onMounted)((function(){Promise.all([s.fetchStores(),s.fetchTowns()]).then((function(){x(!1)}))})),function(e,t){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["sidebar appointment-booker",{active:(0,i.unref)(g)}]),onClick:t[11]||(t[11]=function(e){return T(!1)})},[(0,i.createElementVNode)("div",{class:"sidebar__content",onClick:t[10]||(t[10]=(0,i.withModifiers)((function(){}),["stop"]))},[(0,i.createElementVNode)("div",Dt,[(0,i.createElementVNode)("img",{onClick:t[0]||(t[0]=function(e){return T(!1)}),class:"close-sidebar",src:"/images/icons/cancel.svg"}),(0,i.createVNode)(i.Transition,{name:"slide-fade",mode:"out-in",onAfterEnter:I},{default:(0,i.withCtx)((function(){return[(0,i.unref)(h)?((0,i.openBlock)(),(0,i.createElementBlock)("div",Tt,[(0,i.createElementVNode)("div",xt,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(h)),1),(0,i.unref)(v)?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,href:"tel:"+(0,i.unref)(v).phone},(0,i.toDisplayString)((0,i.unref)(v).phone),9,Mt)):(0,i.createCommentVNode)("v-if",!0)])])):(0,i.unref)(c)==(0,i.unref)(d.X).StoreList?((0,i.openBlock)(),(0,i.createElementBlock)("div",At,[(0,i.createElementVNode)("div",Lt,[(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)((0,i.unref)(r).FindYourStoreHeading||"Find your nearest store"),1)]),(0,i.createElementVNode)("div",Pt,[(0,i.withDirectives)((0,i.createElementVNode)("input",{placeholder:(0,i.unref)(r).MapSearchPlaceholderText||"Postcode or Town",onInput:D,onKeypress:P,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,i.unref)(a).townOrPostCode=e})},null,40,Bt),[[i.vModelText,(0,i.unref)(a).townOrPostCode]]),(0,i.unref)(a).showTownsList?((0,i.openBlock)(),(0,i.createElementBlock)("div",Rt,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(V),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:function(t){return function(e){return Vt(this,void 0,void 0,(function(){return Ct(this,(function(t){return e.searchValue?a.townOrPostCode=e.searchValue:a.townOrPostCode=e.townName+", "+e.administrativeArea,a.showTownsList=!1,B(),[2]}))}))}(e)}},[(0,i.createTextVNode)((0,i.toDisplayString)(e.townName),1),(0,i.createElementVNode)("span",_t,", "+(0,i.toDisplayString)(e.administrativeArea),1)],8,Ot)})),256))])):(0,i.createCommentVNode)("v-if",!0),(0,i.createElementVNode)("a",{onClick:L},[(0,i.createElementVNode)("label",null,(0,i.toDisplayString)((0,i.unref)(r).WhatsNearbyText||"What's nearby"),1),It])]),(0,i.createElementVNode)("div",Ft,[(0,i.createElementVNode)("div",qt,[(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"checkbox",id:"storesCheckbox",name:"storesCheckbox","data-type":"Kuoni Store","onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,i.unref)(b).stores=e}),onChange:t[3]||(t[3]=function(e){s.setShowStores(b.stores)})},null,544),[[i.vModelCheckbox,(0,i.unref)(b).stores]]),Ut,Ht]),(0,i.createElementVNode)("div",Wt,[(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"checkbox",id:"partnersCheckbox",name:"partnersCheckbox","data-type":"Partner Store","onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,i.unref)(b).partners=e}),onChange:t[5]||(t[5]=function(e){s.setShowPartners(b.partners)})},null,544),[[i.vModelCheckbox,(0,i.unref)(b).partners]]),zt,Xt])]),(0,i.createElementVNode)("div",Yt,[(0,i.createElementVNode)("ul",Qt,[(0,i.createElementVNode)("li",{class:(0,i.normalizeClass)({active:!(0,i.unref)(a).showMap}),onClick:t[6]||(t[6]=function(e){a.showMap=!1})},"View List",2),(0,i.createElementVNode)("li",{class:(0,i.normalizeClass)({active:(0,i.unref)(a).showMap}),onClick:t[7]||(t[7]=function(e){return O()})},"Map",2)]),(0,i.withDirectives)((0,i.createElementVNode)("div",Zt,[(0,i.createElementVNode)("div",Gt,null,512)],512),[[i.vShow,(0,i.unref)(a).showMap]]),(0,i.withDirectives)((0,i.createElementVNode)("div",jt,[(0,i.unref)(C)?((0,i.openBlock)(),(0,i.createElementBlock)("div",tn,nn)):((0,i.openBlock)(),(0,i.createElementBlock)("div",Kt,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(y),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"store-search__store",key:e.id,onClick:function(t){return A(e)}},[(0,i.createElementVNode)("div",Jt,[(0,i.createElementVNode)("small",null,(0,i.toDisplayString)(e.distanceToUserDescription),1),(0,i.createElementVNode)("h4",null,(0,i.toDisplayString)(e.name),1),(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.address),1),(0,i.createElementVNode)("label",null,(0,i.toDisplayString)(e.phone),1),(0,i.createElementVNode)("p",null,(0,i.toDisplayString)(e.nextAvailable),1),(0,i.createElementVNode)("a",{onClick:t[8]||(t[8]=(0,i.withModifiers)((function(){}),["stop"])),href:e.link,target:"_blank"},"View store details",8,en)]),(0,i.createElementVNode)("div",{class:"image",style:(0,i.normalizeStyle)(e.imageCss)},null,4)],8,$t)})),128))]))],512),[[i.vShow,!(0,i.unref)(a).showMap]])])])):(0,i.unref)(c)==(0,i.unref)(d.X).ExpertSelect?((0,i.openBlock)(),(0,i.createElementBlock)("div",on,[(0,i.createElementVNode)("img",{onClick:t[9]||(t[9]=function(e){return M((0,i.unref)(d.X).StoreList)}),class:"back",src:"/images/icons/chevron-right-black.svg"}),(0,i.createElementVNode)("div",rn,[(0,i.createElementVNode)("div",sn,[(0,i.createElementVNode)("iframe",{src:(0,i.unref)(l),style:{border:"none",width:"100%",height:"calc(100vh - 120px)"}},null,8,an)])])])):(0,i.unref)(c)==(0,i.unref)(d.X).ThankYou?((0,i.openBlock)(),(0,i.createElementBlock)("div",ln,[(0,i.createElementVNode)("div",cn,[(0,i.createElementVNode)("div",un,[(0,i.createElementVNode)("iframe",{src:"/AppoinmentThankYou?storenid="+(0,i.unref)(v).nid,style:{border:"none",width:"100%",height:"calc(100vh - 120px)"}},null,8,dn)])])])):(0,i.createCommentVNode)("v-if",!0)]})),_:1})])])],2)}}}),hn=pn,mn={key:0},fn=(0,i.createElementVNode)("label",{for:"enquiryDetails.date",id:"appointment-date"},[(0,i.createTextVNode)(" Date "),(0,i.createElementVNode)("span",{style:{color:"red"}}," *")],-1),gn={class:"flex items-center"},vn=["value","onClick"],yn=(0,i.createElementVNode)("br",null,null,-1),wn=(0,i.createElementVNode)("br",null,null,-1),kn=(0,i.createElementVNode)("label",{for:"enquiryDetails.time",id:"appointment-time"},[(0,i.createTextVNode)(" Time "),(0,i.createElementVNode)("span",{style:{color:"red"}}," *")],-1),Sn=["value"],bn={key:1,class:"loading-spinner"},En=[(0,i.createElementVNode)("img",{src:"/images/icons/loading-spinner.png"},null,-1),(0,i.createElementVNode)("p",null,"Updating results",-1)],Nn=(0,i.defineComponent)({setup:function(e){var t=(0,u.O)(),o=(0,i.ref)("calendar"),r=(0,i.reactive)({date:new Date,time:new Date}),s=((0,i.computed)((function(){return t.selectedStore})),(0,i.computed)((function(){return c()(t.selectedDate).tz("Europe/London").format("YYYY-MM-DD")})),(0,i.computed)((function(){return c()(t.selectedDate).tz("Europe/London").format("ddd DD MMM")})),(0,i.computed)((function(){return c()(t.selectedDate).tz("Europe/London").format("HH:mm")})),(0,i.computed)((function(){return t.selectableDates}))),a=(0,i.computed)((function(){return t.getLoading})),l=(0,i.computed)((function(){return function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([{start:"2999-12-31"}],s.value.map((function(e){return{start:e,end:e}})),!0)})),d=(0,i.computed)((function(){return t.selectableTimes}));function p(e){t.setLoading(e)}function h(e){return c()(e).tz("Europe/London").format("HH:mm")}function m(e){var n=e.id;l.value.some((function(e){return e.start.substring(0,10)==n}))&&(t.selectedDate=new Date(n),p(!0),t.calculateTimes().then((function(){p(!1)})))}function f(e){var n=new Date(t.calendarDate);n.setMonth(e.month-1),n.setFullYear(e.year),t.selectCalendarDate(n),t.calculateDates()}return(0,i.watch)((function(){return t.selectedDate}),(function(e,t){r.date=e})),(0,i.onMounted)((function(){var e=n(178),o=n(9387);c().extend(e),c().extend(o),c().tz.setDefault("Europe/London"),t.fetchStores().then((function(){p(!1)}))})),function(e,t){var n=(0,i.resolveComponent)("v-date-picker");return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.unref)(a)?((0,i.openBlock)(),(0,i.createElementBlock)("div",bn,En)):((0,i.openBlock)(),(0,i.createElementBlock)("div",mn,[fn,(0,i.createVNode)(n,{ref_key:"calendar",ref:o,"first-day-of-week":2,masks:{weekdays:"WW",input:"DD/MM/YYYY"},"onUpdate:fromPage":f,modelValue:(0,i.unref)(r).date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,i.unref)(r).date=e}),onDayclick:m,"available-dates":(0,i.unref)(l)},{default:(0,i.withCtx)((function(e){var t=e.inputValue,n=e.togglePopover;return[(0,i.createElementVNode)("div",gn,[(0,i.createElementVNode)("input",{id:"appointment-date",name:"enquiryDetails.date",value:t,onClick:function(e){return n()},readonly:""},null,8,vn)])]})),_:1},8,["modelValue","available-dates"]),yn,wn,kn,(0,i.withDirectives)((0,i.createElementVNode)("select",{name:"enquiryDetails.time",id:"appointment-time","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,i.unref)(r).time=e})},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(d),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("option",{key:e.start,value:h(e.start)},(0,i.toDisplayString)(h(e.start)),9,Sn)})),128))],512),[[i.vModelSelect,(0,i.unref)(r).time]])]))])}}}),Vn=(0,i.defineAsyncComponent)((function(){return n(6032),n.e(7064).then(n.bind(n,3633))})),Cn=(0,i.createApp)({});Cn.use(window.pinia),Cn.component("v-date-picker",r.Mt),Cn.component("our-suspense",a),Cn.component("vueform-multiselect",Vn),Cn.component("appointment-main",Nt),Cn.component("expert-finder-appointment",hn),Cn.mount("[appoinment-booker-vue]");for(var Dn=document.querySelectorAll("[appoinment-cta-trigger-vue]"),Tn=0;Tn<Dn.length;Tn++){var xn=Dn[Tn],Mn=(0,i.createApp)({setup:function(){return{store:(0,u.O)()}},methods:{open:function(e){var t=this;this.store.setOpen(!0),e&&(this.store.selectStoreById(e),this.store.setLoading(!0),this.store.fetchPtes().then((function(){t.store.setLoading(!1)})),this.store.goToStage(d.X.ExpertSelect))}},computed:{isOpen:function(){return this.store.open}}});Mn.use(window.pinia),Mn.mount(xn)}var An=(0,i.createApp)({});An.use(window.pinia),An.component("v-date-picker",r.Mt),An.component("appointment-partner",Nn),An.mount("[appointment-partner-vue]"),window.appointmentPiniaInstance=(0,u.O)();var Ln=n(5218),Pn=n(6486),Bn=n(4820),Rn=n(5821),On=(0,i.defineAsyncComponent)((function(){return n.e(7630).then(n.bind(n,7630))})),_n=(0,i.defineAsyncComponent)((function(){return n.e(6473).then(n.bind(n,6473))})),In=(0,i.defineAsyncComponent)((function(){return n.e(7529).then(n.bind(n,7529))})),Fn=(0,i.defineAsyncComponent)((function(){return n.e(1985).then(n.bind(n,1985))})),qn=(0,i.createApp)({});qn.component("stickyFooter",On),qn.component("v-date-picker",r.Mt),qn.component("quote",_n),qn.use(window.pinia),qn.mount("[sticky-footer]");for(var Un=document.querySelectorAll("[vue-search-trigger]"),Hn=0;Hn<Un.length;Hn++){var Wn=Un[Hn];(zn=(0,i.createApp)({setup:function(){return{store:(0,Rn.R)()}},computed:{isOpen:function(){return this.store.getOpenModal}},methods:{openModal:function(){this.store.setOpenModal(!0)},closeModal:function(){this.store.setOpenModal(!1)}}})).use(window.pinia),zn.mount(Wn)}for(Un=document.querySelectorAll("[vue-search-footer-edit]"),Hn=0;Hn<Un.length;Hn++){var zn;Wn=Un[Hn],(zn=(0,i.createApp)({setup:function(){return{store:(0,Rn.R)()}},computed:{isEdit:function(){return!this.store.getFooterSearchComplete}},methods:{edit:function(){this.store.setFooterSearching(!0),this.store.setFooterSearchComplete(!1)}}})).use(window.pinia),zn.mount(Wn)}var Xn=(0,i.createApp)({name:"main-search",setup:function(){return{store:(0,Rn.R)()}},components:{"price-range-slider":In,"card-filters":Fn},created:function(){this.debounceAutocomplete=(0,Pn.debounce)(this.autocomplete,250)},mounted:function(){},data:function(){return{loading:!1,loadingDetailedSearch:!1,destinations:[],products:[],inspiration:[],offers:[],quickSearchSubmitted:!1,destinationNeeded:!1,resultsTab:1,searchPopupStyle:"",mobileFormReveal:!1,mobileFilters:!1,sortActive:!1,si:null,counter:0}},watch:{isOpen:function(e,t){var n;e&&(this.refine?this.showRefineOptions():(null===(n=this.selectedResult)||void 0===n?void 0:n.isAccommodation)?(this.searchResults=[],this.destinations=[],this.products=[],this.inspiration=[],this.offers=[],this.destinationNeeded=!1):this.availabilitySearchSubmitted?(this.hideQuickSearchResults(),this.forceDestination()):(this.store.setMainSearchColumn(1),this.$refs.searchTerm.click(),this.$refs.searchTerm.focus(),this.term.length>=3&&this.forceGetQuickResults()))},mainSearchColumn:function(e,t){2==t&&null!=this.searchDate&&this.store.setShowDate(!0),3==t&&(this.store.setShowGuests(!0),this.store.checkChildAges())},loadingDetailedSearch:function(e,t){var n=this;1==t&&window.innerWidth<=690&&setTimeout((function(){n.$refs.searchLabel.scrollIntoView({behavior:"smooth"})}),10)}},computed:{mainSearchColumn:function(){return this.store.getMainSearchColumn},selectedResult:{get:function(){return this.store.getSelectedResult},set:function(e){this.store.setSelectedResult(e)}},attributes:function(){return this.store.getSelectedDateHighlight},disabledDates:function(){return this.store.getDisabledDates},specialOccasions:function(){return this.store.getOccasionOptions},flightClasses:function(){return this.store.getFlightClassOptions},airports:function(){return this.store.getAirportOptions},term:{get:function(){return this.store.getTerm},set:function(e){this.store.setTerm(e)}},availabilityProduct:{get:function(){return this.store.availabilityProduct},set:function(e){this.store.setAvailabilityProduct(e)}},refine:{get:function(){return this.store.getRefine},set:function(e){this.store.setRefine(e)}},searchResults:{get:function(){return this.store.getSearchResults},set:function(e){this.store.setSearchResults(e)}},availabilitySearchSubmitted:{get:function(){return this.store.availabilitySearchSubmitted},set:function(e){this.store.setAvailabilitySearchSubmitted(e)}},searchDate:{get:function(){return this.store.getSearchDate},set:function(e){this.store.setSearchDate(e)}},searchDuration:{get:function(){return this.store.getSearchDuration},set:function(e){this.store.setSearchDuration(e)}},oneRoomMessageHtml:function(){return this.store.getOneRoomMessageHtml},formattedDate:function(){return(0,Bn.Rq)(this.searchDate)},someCriteria:function(){return!!this.searchDate||!!this.searchDuration||!!this.guestRollup||!!this.store.selectedAirport.value||this.store.childAgesValid&&!!this.selectedResult},allCriteria:function(){return!!this.searchDate&&!!this.searchDuration&&!!this.guestRollup&&!!this.store.selectedAirport.value&&this.store.childAgesValid&&!!this.selectedResult},guestRollup:function(){if(!this.store.showGuests)return null;var e=this.store.passengers.map((function(e){return e.adults})).reduce(this.sum),t=e>1?e+" Adults":e+" Adult",n=this.store.passengers.map((function(e){return e.childAges.length})).reduce(this.sum);return t+" "+(n>1?"and "+n+" children":1==n?"and "+n+" child":"")},isOpen:function(){return this.store.getOpenModal}},methods:{closeAllFilters:function(){var e,t,n;null===(e=this.$refs.offerCards)||void 0===e||e.closeAllFilters(),null===(t=this.$refs.productCards)||void 0===t||t.closeAllFilters(),null===(n=this.$refs.availabilityProductCards)||void 0===n||n.closeAllFilters()},showRefineOptions:function(){this.store.setMainSearchColumn(1),this.handleAutocompleteResults(this.searchResults),this.quickSearchSubmitted=!1,this.availabilitySearchSubmitted=!1},openModal:function(){this.store.setOpenModal(!0)},closeModal:function(){this.store.setOpenModal(!1)},forceGetQuickResults:function(){var e=this;this.clickAnyColumn(1),Ln.Z.autocomplete(this.term,(function(t){e.handleAutocompleteResults(t),e.selectResult(t.destinations[0])}),this.handleFail)},forceDestination:function(){var e=this;Ln.Z.autocomplete(this.term,(function(t){e.destinationNeeded=!1,e.selectedResult=t.destinations[0]}),this.handleFail)},clickSearch:function(){this.clickAnyColumn(0),this.availabilitySearchSubmit()},clickAnyColumn:function(e){e>1&&!this.selectedResult&&(this.destinationNeeded=!0),e>0&&!this.selectedResult?(this.store.setMainSearchColumn(1),this.$refs.searchTerm.click(),this.$refs.searchTerm.focus()):(this.store.setMainSearchColumn(e),1!=e||this.products||this.autocomplete()),this.resizeSearchPopup()},resizeSearchPopup:function(){var e=this,t=this.store.getMainSearchColumn;0!=t&&window.innerWidth>700&&(null!=this.si&&(clearInterval(this.si),this.counter=0),this.si=setInterval((function(){if(e.counter>=3)clearInterval(e.si),e.counter=0;else{e.counter+=.1;var n=e.$refs.columns.children[t-1].offsetLeft-7;e.searchPopupStyle="transform: translate("+n+"px, 0);"}}),10))},sum:function(e,t){return e+t},incDuration:function(){this.store.setIncDuration()},decDuration:function(){this.store.setDecDuration()},incAdults:function(e){this.store.setIncAdults(e)},decAdults:function(e){this.store.setDecAdults(e)},changeChildAge:function(e,t,n){this.store.setChildAge(e,t,n),this.store.checkChildAges()},clearOneRoomMessage:function(){this.store.setOneRoomMessage(!0)},removeRoom:function(){this.store.setOneRoomMessage(!0)},addRoom:function(){this.store.setOneRoomMessage(!0)},pickDate:function(){this.store.setShowDate(!0),this.mobileFormReveal=!0,this.guestRollup?this.store.setMainSearchColumn(0):this.store.setMainSearchColumn(3),this.resizeSearchPopup()},pickPassengers:function(){this.store.setShowGuests(!0),this.store.checkChildAges(),this.store.selectedAirport.value?this.store.setMainSearchColumn(0):this.store.setMainSearchColumn(4),this.resizeSearchPopup()},pickAirport:function(e){this.store.setSelectedAirport(e),0==!this.store.selectedClass.value?this.store.setMainSearchColumn(5):this.store.setMainSearchColumn(0),this.resizeSearchPopup()},pickFlightClass:function(e){this.store.setSelectedClass(e),0==!this.store.selectedOccasion.value?this.store.setMainSearchColumn(6):this.store.setMainSearchColumn(0),this.resizeSearchPopup()},pickOccasion:function(e){this.store.setSelectedOccasion(e),this.store.setMainSearchColumn(0),this.resizeSearchPopup()},getOptions:function(){Ln.Z.options(this.handleOptions,this.handleFail)},handleAvailabilityResults:function(e){this.loading=!1,this.loadingDetailedSearch=!1,e.refine?(this.refine=!0,this.searchResults=e,this.showRefineOptions()):(this.store.youMayAlsoLike=e.youMayAlsoLike,this.availabilityProduct=e.availabilityProduct)},availabilitySearchSubmit:function(){var e,t,n,o,i=this;this.allCriteria?(this.loading=!0,this.loadingDetailedSearch=!0,this.hideQuickSearchResults(),this.availabilitySearchSubmitted=!0,this.selectedResult.isAccommodation?Ln.Z.accommodationAvailability(this.searchDate,this.searchDuration,this.store.selectedAirport.value,this.selectedResult.id,this.store.passengers,null===(e=this.store.selectedClass)||void 0===e?void 0:e.value,null===(t=this.store.selectedOccasion)||void 0===t?void 0:t.value,this.handleAccommodationAvailability,this.handleFail):Ln.Z.availability(this.searchDate,this.searchDuration,this.store.selectedAirport.value,this.selectedResult.id,this.store.passengers,null===(n=this.store.selectedClass)||void 0===n?void 0:n.value,null===(o=this.store.selectedOccasion)||void 0===o?void 0:o.value,this.handleAvailabilityResults,this.handleFail)):(null==this.selectedResult?this.destinationNeeded=!0:null==this.searchDate?this.store.setMainSearchColumn(2):0==this.store.showGuests?this.store.setMainSearchColumn(3):null==this.store.selectedAirport.value?this.store.setMainSearchColumn(4):this.store.passengers[0].childAges.length>0&&this.store.passengers.forEach((function(e){e.childAges.includes(null)&&i.store.setMainSearchColumn(3)})),this.resizeSearchPopup())},selectYouMayAlsoLike:function(e){var t=this;this.term=e.title,Ln.Z.autocomplete(this.term,(function(e){t.searchResults=e,t.destinations=e.destinations,t.products=e.product,t.inspiration=e.inspiration,t.offers=e.offers}),this.handleFail),this.store.setSelectedResult(e),this.availabilitySearchSubmit()},accommodationNotAvailable:function(e){var t,n;this.loading=!1,this.store.setTerm(null===(t=document.querySelector("#accommodationName"))||void 0===t?void 0:t.value),this.store.setMainSearchColumn(0),this.store.setAvailabilitySearchSubmitted(!0),this.store.setSearchResults([]),this.store.availabilityProduct=[],this.store.youMayAlsoLike=e.youMayAlsoLike,this.store.setSelectedResult({isAccommodation:!0,id:+(null===(n=document.querySelector("#accommodationId"))||void 0===n?void 0:n.value)}),this.store.setOpenModal(!0)},handleAccommodationAvailability:function(e){if(!e.availabilityProduct[0])return this.accommodationNotAvailable(e);var t=new URLSearchParams(new URL(window.location.protocol+"//"+window.location.host+e.availabilityProduct[0].cardLink).search),n=new URLSearchParams(window.location.search);t.forEach((function(e,t){n.set(t,e)})),window.location.href=e.accommodationUrl+"?"+n.toString()},quickSearchSubmit:function(){this.term.length<3||this.showQuickSearchResults()},selectResult:function(e){this.clickAnyColumn(0),this.destinationNeeded=!1,this.selectedResult=e,this.store.setTerm(e.title),this.loading=!0,this.availabilitySearchSubmitted=!1,this.refine?(this.refine=!1,this.searchResults=[],this.destinations=[],this.products=[],this.inspiration=[],this.offers=[],this.store.youMayAlsoLike=[],this.availabilitySearchSubmit()):Ln.Z.specificItem(e.id,this.handleSelectResults,this.handleFail)},handleSelectResults:function(e){console.log("Select Results",e),this.loading=!1,this.loadingDetailedSearch=!1,this.searchResults=e,this.destinations=e.destinations,this.products=e.product,this.inspiration=e.inspiration,this.offers=e.offers,this.showQuickSearchResults(),this.store.youMayAlsoLike=[]},showQuickSearchResults:function(){var e=this;this.quickSearchSubmitted=!0,window.innerWidth<=690&&setTimeout((function(){e.$refs.quickSearch.scrollIntoView({behavior:"smooth"})}),10),(0,i.nextTick)((function(){new o.ZP(".search-destinations-cards__swiper",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".swiper-button-next__search-dest",prevEl:".swiper-button-prev__search-dest"}}),new o.ZP(".tabs-swiper-search",{slidesPerView:"auto",spaceBetween:30,freeMode:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{500:{slidesPerView:"auto",spaceBetween:40,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},800:{slidesPerView:"auto",spaceBetween:61,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}})}))},hideQuickSearchResults:function(){this.quickSearchSubmitted=!1},handleFail:function(e){var t=this;this.loading=!1,this.loadingDetailedSearch=!1,console.log("Fail",e),(0,i.nextTick)((function(){t.resizeSearchPopup()}))},handleAutocompleteResults:function(e){var t=this;this.loading=!1,this.loadingDetailedSearch=!1,this.searchResults=e,this.destinations=e.destinations,this.products=e.product,this.inspiration=e.inspiration,this.offers=e.offers,(0,i.nextTick)((function(){t.resizeSearchPopup()}))},compositionUpdate:function(e){this.term=e.data},showQuick:function(){var e=this;this.term.length>=3&&(this.showQuickSearchResults(),(0,i.nextTick)((function(){e.clickAnyColumn(0)})))},autocomplete:function(e){var t=this;this.refine=!1,this.hideQuickSearchResults(),this.term.length>=3?13==e.keyCode?this.showQuick():(this.loading=!0,this.selectedResult=null,Ln.Z.autocomplete(this.term,this.handleAutocompleteResults,this.handleFail)):(this.searchResults=[],this.destinations=[],this.products=[],this.inspiration=[],this.offers=[],this.store.youMayAlsoLike=[],this.selectedResult=null,(0,i.nextTick)((function(){t.resizeSearchPopup()})))},debounceAutocomplete:function(){console.log("Searching too soon.")}}});Xn.use(window.pinia),Xn.component("v-date-picker",r.Mt),Xn.mount("[vue-search-form]"),window.searchPiniaInstance=(0,Rn.R)();for(var Yn=n(4586),Qn=(n(7791),document.querySelectorAll("[cta-sidebar-trigger-vue]")),Zn=0;Zn<Qn.length;Zn++){var Gn=Qn[Zn],jn=(0,i.createApp)({setup:function(){return{ctaStore:(0,Yn.k)()}},created:function(){},data:function(){return{}},methods:{open:function(){this.ctaStore.setOpen(!0)},close:function(){this.ctaStore.setOpen(!1)}}});jn.use(window.pinia),jn.mount(Gn)}var Kn=(0,i.createApp)({setup:function(){return{ctaStore:(0,Yn.k)(),appointmentStore:(0,u.O)()}},mounted:function(){var e=this;this.$nextTick((function(){window.setInterval((function(){if("undefined"!=typeof LiveChatWidget){var t=LiveChatWidget.get("state");e.online="online"==t.availability}}),2e3)}))},data:function(){return{liveChatToggler:!1,online:!1}},methods:{close:function(){this.ctaStore.setOpen(!1)},openEnquire:function(e){window.kuoni.enquire.openSidebar(null,null,e)},toggleAppointment:function(){this.appointmentStore.setOpen(!0)},toggleLiveChat:function(){"maximized"!=LiveChatWidget.get("state").visibility?LiveChatWidget.call("maximize"):LiveChatWidget.call("hide")},toggleResponseIq:function(){Responseiq.CallbackWidget.toggleWidgetOpenState()}},computed:{open:function(){return this.ctaStore.open}}});Kn.use(window.pinia),Kn.mount("[cta-sidebar-vue]"),window.ctaPiniaInstance=(0,Yn.k)();var $n=n(2732),Jn=n.n($n);window.ll=new(Jn()),window.addEventListener("load",(function(e){-1==window.location.href.indexOf("/inspiration/")&&(console.log("getting images"),window.setTimeout((function(){return window.ll.loadAll()}),8e3))})),window.mapInit=window.mapInit||function(){};var eo=function(){function e(){this.getDOM(),this.scrollHeader(),this.menuCarousel(),this.menu(),this.footer(),this.initModal()}return e.prototype.getDOM=function(){o.ZP.use([o.W_,o.tl,o.Gk,o.Rv,o.o3,o.pt,o.oM]),this.mobileMenuTrigger=document.querySelector("#mobile-menu-trigger"),this.closeHeaderMenu=document.querySelector("#close-header-menu"),this.siteNav=document.querySelector("#site-nav"),this.destinationsTrigger=document.getElementById("destinations-menu-trigger"),this.inspirationTrigger=document.getElementById("inspiration-menu-trigger"),this.mainMenu=document.getElementById("menu"),this.siteHeader=document.querySelector("header"),this.mobileFooterNavigation=document.querySelector(".footer-navigation"),document.querySelector("#close-menu")&&(this.mainMenuClose=document.getElementById("close-menu")),document.querySelector("#back")&&(this.menuBack=this.mainMenu.querySelector("#back")),document.querySelector(".menu__destinations")&&(this.menuDestinations=this.mainMenu.querySelector(".menu__destinations")),document.querySelector(".menu__inspiration")&&(this.menuInspiration=this.mainMenu.querySelector(".menu__inspiration")),document.querySelector(".text-card")&&(this.mainTextCard=this.menuInspiration.querySelector(".text-card"),this.mainNavLinks=this.mainTextCard.querySelectorAll("li"),this.mainNavSelector=this.mainTextCard.querySelector(".selector"),this.mainNavItems=this.menuInspiration.querySelectorAll(".nav-item"),this.menuSwipers=this.menuInspiration.querySelector(".menu__swipers"),this.swipers=this.menuSwipers.querySelectorAll(".menu-swiper")),this.body=document.querySelector("body"),this.theWindow=window,this.scrollAmount,this.mobileFooterNavigation&&(this.mobileFooterNavigation=document.querySelector(".footer-navigation__left"),this.mobileFooterToggle=this.mobileFooterNavigation.querySelectorAll("h6"),this.mobileFooterList=this.mobileFooterNavigation.querySelectorAll("ul")),this.modal=document.querySelector(".modal"),this.modal&&(this.modalContent=this.modal.querySelector(".modal__content"),this.modalClose=this.modalContent.querySelector(".modal-close"),this.modalOpen=document.querySelectorAll(".modal-open"))},e.prototype.initModal=function(){var e=this;this.modalOpen&&(this.modalOpen.forEach((function(t){return t.addEventListener("click",(function(){e.modal.classList.add("active"),e.lockBody()}))})),this.modalClose.addEventListener("click",(function(){e.modal.classList.remove("active"),e.unlockBody()})),this.modal.addEventListener("click",(function(){e.modal.classList.remove("active"),e.unlockBody()})),this.modalContent.addEventListener("click",(function(e){return e.stopPropagation()})))},e.prototype.unlockBody=function(){this.body.classList.remove("lock"),this.body.removeAttribute("style"),this.theWindow.scrollTo(0,this.scrollAmount)},e.prototype.lockBody=function(){this.scrollAmount=this.theWindow.scrollY,this.body.classList.add("lock"),this.body.style.top=-this.scrollAmount+"px"},e.prototype.scrollHeader=function(){this.siteHeader&&(window.scrollY>120?this.siteHeader.classList.add("scrolled"):this.siteHeader.classList.remove("scrolled"))},e.prototype.menuCarousel=function(){this.swipers&&this.swipers.forEach((function(e,t){new o.ZP(e,{slidesPerView:1,spaceBetween:0,allowTouchMove:!1,mousewheel:!0,noSwiping:!0,noSwipingClass:"swiper-slide",navigation:{nextEl:".swiper-button-next-"+t,prevEl:".swiper-button-prev-"+t},breakpoints:{580:{slidesPerView:"auto",spaceBetween:24,allowTouchMove:!0,noSwiping:!1,navigation:{nextEl:".swiper-button-next-"+t,prevEl:".swiper-button-prev-"+t}}}})})),new o.ZP(".menu-swiper-brochures",{slidesPerView:1,spaceBetween:0,mousewheel:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{580:{slidesPerView:"auto",spaceBetween:36,allowTouchMove:!0,noSwiping:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}),new o.ZP(".menu-swiper-collections",{slidesPerView:1,spaceBetween:0,mousewheel:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{580:{slidesPerView:"auto",spaceBetween:13,allowTouchMove:!0,noSwiping:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}})},e.prototype.openMainMenu=function(){this.mainMenu&&(this.mainMenu.classList.add("active"),this.lockBody())},e.prototype.closeMainMenu=function(){var e,t=this;this.siteNav.classList.remove("active"),e&&clearTimeout(e),e=setTimeout((function(){t.mainMenu.classList.remove("active"),t.menuInspiration.classList.remove("active"),t.menuDestinations.classList.remove("active"),t.menuSwipers.classList.remove("active"),t.unlockBody()}),210)},e.prototype.menuBackStep=function(){var e=this;this.menuBack&&this.menuBack.addEventListener("click",(function(){e.menuSwipers.classList.contains("active")?e.menuSwipers.classList.remove("active"):e.mainMenu.classList.remove("active")}))},e.prototype.menu=function(){var e,t,n=this;window.addEventListener("resize",(function(){n.mainNavSelector&&(window.innerWidth>840?(4!==n.mainNavSelector.style.width&&(n.mainNavSelector.style.width="4px"),50!==n.mainNavSelector.style.height&&(n.mainNavSelector.style.height="50px"),n.mainNavSelector.style.transform="translateX(0px) translateY(0px)"):(126!==n.mainNavSelector.style.width&&(n.mainNavSelector.style.width="126px"),4!==n.mainNavSelector.style.height&&(n.mainNavSelector.style.height="4px"),n.mainNavSelector.style.transform="translateY(0px) translateY(0px)"))})),this.mobileMenuTrigger&&(this.mobileMenuTrigger.addEventListener("click",(function(){n.siteNav.classList.add("active"),n.lockBody()})),this.closeHeaderMenu.addEventListener("click",(function(){n.siteNav.classList.remove("active"),n.unlockBody()})),this.destinationsTrigger.addEventListener("click",(function(){n.menuInspiration&&n.menuInspiration.classList.remove("active"),n.openMainMenu(),n.menuDestinations&&n.menuDestinations.classList.add("active")}))),this.inspirationTrigger&&this.inspirationTrigger.addEventListener("click",(function(){n.menuDestinations&&n.menuDestinations.classList.remove("active"),n.openMainMenu(),n.menuInspiration&&n.menuInspiration.classList.add("active")})),this.mainMenuClose&&this.mainMenuClose.addEventListener("click",(function(){n.closeMainMenu()})),this.mainNavLinks&&this.mainNavLinks.forEach((function(o,i){return o.addEventListener("click",(function(){n.mainNavLinks.forEach((function(e){return e.classList.remove("active")})),o.classList.add("active"),n.mainNavItems.forEach((function(e){return e.classList.remove("active")})),n.mainNavItems[i].classList.add("active"),window.innerWidth>840?(e=o.offsetTop,4!==t&&(t=4),n.mainNavSelector.style.transform="translateY("+(e-8)+"px)",n.mainNavSelector.style.width=t+"px"):(e=o.offsetLeft,t=o.offsetWidth,n.mainNavSelector.style.transform="translateX("+e+"px)",n.mainNavSelector.style.width=t+"px"),window.innerWidth<=580&&n.menuSwipers.classList.add("active")}))})),window.addEventListener("scroll",(function(){n.scrollHeader()})),this.menuBackStep()},e.prototype.footer=function(){var e=this;this.mobileFooterToggle&&this.mobileFooterToggle.forEach((function(t,n){t.addEventListener("click",(function(){if(window.innerWidth<=550){t.classList.toggle("active");var o=e.mobileFooterList[n];o.style.height?o.style.height="":o.style.height=o.scrollHeight+20+"px"}}))}))},e}();window.appComponent=new eo},4672:function(e,t){"use strict";var n=function(){function e(){}return e.prototype.setUpCallbacksAndRequest=function(e,t,n){this.request(n,(function(n){var o;try{o=JSON.parse(this.response)}catch(e){console.error(e)}this.status>=200&&this.status<400?e(o):t(this)}))},e.prototype.request=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=t,n.send()},e}();t.Z=new n},6774:function(e,t,n){"use strict";var o=n(8692);window.pinia=window.pinia||(0,o.WB)()},5218:function(e,t,n){"use strict";var o=n(4672),i=function(){function e(){var e=this;this.hotelDetails=function(e,t,n){var i="/api/search/hotel-details/?accommodationId="+e;o.Z.setUpCallbacksAndRequest(t,n,i)},this.travelAreaDetails=function(e,t,n){var i="/api/search/travel-area-details/?travelAreaId="+e;o.Z.setUpCallbacksAndRequest(t,n,i)},this.result=function(e,t,n){var i="/api/search/result/?resultId="+e+"&bip="+new URLSearchParams(window.location.search).get("bip");o.Z.setUpCallbacksAndRequest(t,n,i)},this.options=function(t,n){var i="/api/search/options/?"+e.releaseQs();o.Z.setUpCallbacksAndRequest(t,n,i)},this.autocomplete=function(e,t,n){var i="/api/search/auto-complete/?query="+e;o.Z.setUpCallbacksAndRequest(t,n,i)},this.specificItem=function(e,t,n){var i="/api/search/specific-item/?id="+e;o.Z.setUpCallbacksAndRequest(t,n,i)},this.availability=function(t,n,i,r,s,a,l,c,u){var d="/api/search/availability/?date="+t.toISOString()+"&duration="+n+"&departureAirport="+i+"&travelAreaId="+r+"&cabinClass="+(a||"")+"&occasion="+(l||"")+"&"+e.passengerString(s);o.Z.setUpCallbacksAndRequest(c,u,d)},this.accommodationAvailability=function(t,n,i,r,s,a,l,c,u){var d="/api/search/availability/?date="+t.toISOString()+"&duration="+n+"&departureAirport="+i+"&accommodationId="+r+"&cabinClass="+(a||"")+"&occasion="+(l||"")+"&"+e.passengerString(s);o.Z.setUpCallbacksAndRequest(c,u,d)}}return e.prototype.passengerString=function(e){for(var t="",n=0;n<e.length;n++){n>0&&(t+="&");var o=e[n];t+="passengerRooms["+n+"].adults="+o.adults;for(var i=0;i<o.childAges.length;i++)t+="&passengerRooms["+n+"].childAges["+i+"]="+o.childAges[i]}return t},e.prototype.releaseQs=function(){return"r="+document.getElementById("releaseVersion").value},e}();t.Z=new i},4503:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var o=n(8692),i=n(9669),r=n.n(i),s=n(7379),a=function(){},l=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},c=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},u=(0,o.Q_)("appointment",{state:function(){return{open:!1,stage:s.X.StoreList,towns:new Array,stores:new Array,ptes:new Array,appointmentTypes:new Array,selectedStore:null,selectedPte:null,selectedAppointmentType:null,selectedDate:null,yourPosition:null,userSelectedNortherIreland:!1,selectableDates:new Array,selectableTimes:new Array,calendarDate:new Date,destinations:new Array,appointmentDetails:new a,showStores:!0,showPartners:!0,error:null,isLoading:!0,fetchingStores:!1,fetchingTowns:!1}},getters:{getStage:function(e){return e.stage},getError:function(e){return e.error},getTowns:function(e){return e.towns},getStores:function(e){return e.stores.filter((function(t){return t.isPartner&&e.showPartners||!t.isPartner&&e.showStores}))},getStore:function(e){return e.selectedStore},getPtes:function(e){return e.ptes},getPte:function(e){return e.selectedPte},getAppointmentTypes:function(e){return e.appointmentTypes},getAppointmentType:function(e){return e.selectedAppointmentType},getAppointmentDetails:function(e){return e.appointmentDetails},getLoading:function(e){return e.isLoading}},actions:{releaseQs:function(){return"r="+document.getElementById("releaseVersion").value},fetchTowns:function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(this.fetchingTowns)return[2];this.fetchingTowns=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r().get("/api/appointment/get-towns/?"+this.releaseQs())];case 2:return e=n.sent(),this.towns=e.data,[3,4];case 3:return t=n.sent(),this.doError(t),console.log(t),[3,4];case 4:return[2]}}))}))},fetchStores:function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(this.fetchingStores)return[2];this.fetchingStores=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r().get("/api/appointment/get-stores/?"+this.releaseQs())];case 2:return e=n.sent(),0==this.stores.length&&(this.stores=e.data),[3,4];case 3:return t=n.sent(),this.doError(t),console.log(t),[3,4];case 4:return[2]}}))}))},fetchPtes:function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().get("/api/appointment/get-ptes/?storeId="+this.selectedStore.id+"&"+this.releaseQs())];case 1:return e=n.sent(),this.ptes=e.data,[3,3];case 2:return t=n.sent(),this.doError(t),console.log(t),[3,3];case 3:return[2]}}))}))},fetchDestinations:function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().get("/api/appointment/get-destinations/?"+this.releaseQs())];case 1:return e=n.sent(),this.destinations=e.data,[3,3];case 2:return t=n.sent(),this.doError(t),console.log(t),[3,3];case 3:return[2]}}))}))},fetchAppointmentTypes:function(){return l(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().get("/api/appointment/get-appointment-types/?"+this.releaseQs())];case 1:return e=n.sent(),this.appointmentTypes=e.data,[3,3];case 2:return t=n.sent(),this.doError(t),console.log(t),[3,3];case 3:return[2]}}))}))},calculateDates:function(){var e;return l(this,void 0,void 0,(function(){var t,n;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r().post("/api/appointment/calculate-dates/",{storeId:this.selectedStore.id,pteId:null===(e=this.selectedPte)||void 0===e?void 0:e.id,month:this.calendarDate.getMonth()+1,year:this.calendarDate.getFullYear()})];case 1:return t=o.sent(),this.selectableDates=t.data,[3,3];case 2:return n=o.sent(),this.doError(n),console.log(n),[3,3];case 3:return[2]}}))}))},calculateTimes:function(){var e;return l(this,void 0,void 0,(function(){var t,n;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r().post("/api/appointment/calculate-times/",{storeId:this.selectedStore.id,pteId:null===(e=this.selectedPte)||void 0===e?void 0:e.id,date:this.selectedDate.getDate(),month:this.selectedDate.getMonth()+1,year:this.selectedDate.getFullYear()})];case 1:return t=o.sent(),this.selectableTimes=t.data.items,[3,3];case 2:return n=o.sent(),this.doError(n),console.log(n),[3,3];case 3:return[2]}}))}))},makeAppointment:function(){var e;return l(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().post("/api/appointment/make-appointment/",{storeId:this.selectedStore.id,pteId:null===(e=this.selectedPte)||void 0===e?void 0:e.id,date:this.selectedDate,appointmentTypeId:this.selectedAppointmentType.id,appointmentDetails:this.appointmentDetails})];case 1:return n.sent().data.success||this.doError("Sorry, we can't contact the store right now, please try calling."),[3,3];case 2:return t=n.sent(),this.doError(t),console.log(t),[3,3];case 3:return[2]}}))}))},doError:function(e){this.error=e},markLocation:function(e){this.yourPosition=e},setOpen:function(e){this.open=e,e?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open")},setLoading:function(e){this.isLoading=e},setShowStores:function(e){this.showStores=e},setShowPartners:function(e){this.showPartners=e},goToStage:function(e){try{this.stage=e}catch(e){console.log(e)}},setStoreDistance:function(e,t,n){var o=this.stores.find((function(t){return t.id==e}));o.distanceToUser=n,o.distanceToUserDescription=t},selectStoreById:function(e){var t=this.stores.find((function(t){return t.id==e}));null!=this.selectedStore&&t.id==this.selectedStore.id||(this.resetToStore(),this.selectedStore=t)},selectPteById:function(e){null!=this.selectedPte&&e==this.selectedPte.id||(this.resetToPte(),this.selectedPte=this.ptes.find((function(t){return t.id==e})))},selectStore:function(e){null!=this.selectedStore&&e.id==this.selectedStore.id||(this.resetToStore(),this.selectedStore=e)},selectPte:function(e){null!=this.selectedPte&&null!=e&&e.id==this.selectedPte.id||(this.resetToPte(),this.selectedPte=e)},selectAppointmentType:function(e){this.selectedAppointmentType=e},selectCalendarDate:function(e){this.calendarDate=e},selectDate:function(e){this.selectedDate=e},selectTime:function(e){this.selectedTime=e},resetToStore:function(){this.resetToPte(),this.selectedPte=null,this.ptes=[]},resetToPte:function(){this.selectedDate=null,this.selectedTime=null,this.selectedAppointmentType=null}}})},4586:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var o=(0,n(8692).Q_)("cta",{state:function(){return{open:!1}},getters:{},actions:{setOpen:function(e){this.open=e}}})},5821:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var o=n(8692),i=n(5218),r=(0,o.Q_)("search",{state:function(){return{error:null,unavailable:!1,refine:!1,oneRoomMessageHtml:'<div class="more-rooms"><h4>More rooms?</h4><p>If you would like to book more than one room please call us.</p></div>',oneRoomMessage:!1,mainSearchColumn:1,disabledDates:[{end:new Date}],selectedDateHighlight:[],openModal:!1,term:"",searchDate:null,searchDuration:7,showDate:!1,passengers:[Object.assign({},{adults:2,childAges:[]})],showGuests:!1,selectedAirport:{text:"Departure airports",value:null},selectedClass:{text:"Pick your cabin",value:null},selectedOccasion:{text:"Are you celebrating?",value:null},childAgesValid:!1,searchResults:[],availabilityProduct:[],youMayAlsoLike:[],availabilitySearchSubmitted:!1,optionsTriggered:!1,airportOptions:[],flightClassOptions:[],occasionOptions:[],quoteOpen:!1,footerSearching:!1,footerSearchComplete:!1,validationError:!1,loadingNextStage:!1,selectedResult:null}},getters:{getSelectedResult:function(){return this.selectedResult},getSearchResults:function(){return this.searchResults},getRefine:function(){return this.refine},getSelectedDateHighlight:function(){return this.selectedDateHighlight},getDisabledDates:function(){return this.disabledDates},getQsUnavailable:function(){var e=new URLSearchParams(window.location.search);return!!e.has("available")&&"false"==e.get("available").toLowerCase()},getQsTravelArea:function(){var e=new URLSearchParams(window.location.search);if(e.has("bip")){var t=atob(e.get("bip"));return JSON.parse(t).tr}return null},getQsAirport:function(){var e=new URLSearchParams(window.location.search);if(e.has("bip")){var t=atob(e.get("bip"));return JSON.parse(t).de}return null},getQsFlightClass:function(){var e=new URLSearchParams(window.location.search);if(e.has("bip")){var t=atob(e.get("bip"));return JSON.parse(t).ca}return null},getQsOccasion:function(){var e=new URLSearchParams(window.location.search);if(e.has("bip")){var t=atob(e.get("bip"));return JSON.parse(t).oc}return null},getOpenModal:function(){return this.openModal},getSearchDate:function(){return this.searchDate},getSearchDuration:function(){return this.searchDuration},getTerm:function(){return this.term},getOneRoomMessageHtml:function(){return this.oneRoomMessageHtml},getOneRoomMessage:function(){return this.oneRoomMessage},getPassengers:function(){return this.passengers},getAirportOptions:function(){return this.optionsTriggerd||(this.optionsTriggerd=!0,i.Z.options(this.setOptions,this.setError)),this.airportOptions},getFlightClassOptions:function(){return this.optionsTriggerd||(this.optionsTriggerd=!0,i.Z.options(this.setOptions,this.setError)),this.flightClassOptions},getOccasionOptions:function(){return this.optionsTriggerd||(this.optionsTriggerd=!0,i.Z.options(this.setOptions,this.setError)),this.occasionOptions},getMainSearchColumn:function(){return this.mainSearchColumn},getFooterSearchComplete:function(){return this.footerSearchComplete},getFooterSearching:function(){return this.footerSearching},getValidationError:function(){return this.validationError},getLoadingNextStage:function(){return this.loadingNextStage}},actions:{setSelectedDateHighlight:function(e){var t=new Date(e);e&&(t.setDate(e.getDate()+this.searchDuration),this.selectedDateHighlight=[{highlight:{color:"blue",fillMode:"light"},dates:[{start:e,end:t}]}])},setSelectedResult:function(e){this.selectedResult=e},setMainSearchColumn:function(e){this.mainSearchColumn=e},setAvailabilitySearchSubmitted:function(e){this.availabilitySearchSubmitted=e,this.unavailable=!1;var t=new URL(location.href);t.searchParams.delete("available"),window.history.pushState({},document.title,t.href)},setSearchResults:function(e){this.searchResults=e},setRefine:function(e){this.refine=e},setYouMayAlsoLike:function(e){this.youMayAlsoLike=e},setAvailabilityProduct:function(e){this.availabilityProduct=e},setOneRoomMessage:function(e){this.oneRoomMessage=e},setTerm:function(e){this.term=e},setOptions:function(e){var t=this;if(console.log("Options",e),e.oneRoomMessageHtml&&e.oneRoomMessageHtml.length>12&&(this.oneRoomMessageHtml=e.oneRoomMessageHtml),this.occasionOptions=e.occasions,this.airportOptions=e.airports,this.flightClassOptions=e.flightClasses,this.getQsAirport&&(this.selectedAirport=this.airportOptions.find((function(e){return e.value==t.getQsAirport}))),this.getQsFlightClass){var n=this.flightClassOptions.find((function(e){return e.value==t.getQsFlightClass}));n&&(this.selectedClass=n)}if(this.getQsOccasion){var o=this.occasionOptions.find((function(e){return e.value==t.getQsOccasion}));o&&(this.selectedOccasion=o)}this.getQsTravelArea&&(this.term=e.travelAreaLookup.find((function(e){return e.item2==t.getQsTravelArea})).item1);var i=new URLSearchParams(window.location.search);if(i.has("bip")){var r=atob(i.get("bip")),s=JSON.parse(r);this.searchDate=new Date(s.da),this.setShowDate(!0),this.searchDuration=s.du,this.passengers=s.pa.map((function(e){return{adults:e.ad,childAges:e.ch}})),this.setShowGuests(!0),this.checkChildAges()}this.unavailable=this.getQsUnavailable,this.unavailable&&this.setOpenModal(!0)},setError:function(e){this.error=e.error},setOpenModal:function(e){e?window.appComponent.lockBody():window.appComponent.unlockBody(),this.openModal=e},setIncDuration:function(){this.searchDuration<48&&this.searchDuration++,this.setSelectedDateHighlight(this.searchDate)},setDecDuration:function(){this.searchDuration>1&&this.searchDuration--,this.setSelectedDateHighlight(this.searchDate)},setSearchDuration:function(e){this.searchDuration=e,this.setSelectedDateHighlight(this.searchDate)},setSearchDate:function(e){this.searchDate=e,this.setSelectedDateHighlight(e)},checkChildAges:function(){var e=this;this.passengers.forEach((function(t){t.childAges.includes(null)?e.childAgesValid=!1:e.childAgesValid=!0}))},setIncAdults:function(e){this.passengers[e].adults<15&&this.passengers[e].adults++},setDecAdults:function(e){this.passengers[e].adults>1&&this.passengers[e].adults--},setChildAge:function(e,t,n){this.passengers[t].childAges[e]>=0&&(this.passengers[t].childAges[e]=n)},setShowDate:function(e){this.showDate=e},setShowGuests:function(e){this.showGuests=e},setSelectedAirport:function(e){this.selectedAirport=e},setSelectedClass:function(e){this.selectedClass=e},setSelectedOccasion:function(e){this.selectedOccasion=e},setFooterSearching:function(e){this.footerSearching=e,e?document.querySelector("body").classList.add("offset-chat"):document.querySelector("body").classList.remove("offset-chat")},setFooterSearchComplete:function(e){this.footerSearchComplete=e},setValidationError:function(e){this.validationError=e},setLoadingNextStage:function(e){this.loadingNextStage=e}}})},5333:function(e,t,n){"use strict";e.exports=n.p+"images/map-marker.png"},3428:function(e,t,n){"use strict";e.exports=n.p+"images/partner-map-marker.png"}}]);